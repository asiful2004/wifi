<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ultra WiFi - ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶¶‡ßá‡¶∂‡ßá‡¶∞ ‡¶∏‡ßá‡¶∞‡¶æ ‡¶π‡¶æ‡¶á-‡¶∏‡ßç‡¶™‡¶ø‡¶° ‡¶ì‡¶Ø‡¶º‡¶æ‡¶á‡¶´‡¶æ‡¶á</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Bengali:wght@400;500;600;700&family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="icon" href="https://cdn-icons-png.flaticon.com/512/3197/3197975.png">
    <!-- Supabase Client Library -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    
    <style>
        /* Notification Styles */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 20px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            min-width: 300px;
            max-width: 400px;
            z-index: 10000;
            animation: slideIn 0.3s cubic-bezier(0.16, 1, 0.3, 1);
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
            border: 1px solid rgba(255,255,255,0.1);
            color: white;
        }
        
        .notification.success {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            border-left: 5px solid #047857;
        }
        
        .notification.error {
            background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
            border-left: 5px solid #b91c1c;
        }
        
        .notification.warning {
            background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
            border-left: 5px solid #b45309;
        }
        
        .notification.info {
            background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
            border-left: 5px solid #1d4ed8;
        }
        
        @keyframes slideIn {
            from { transform: translateX(100%) translateY(-20px); opacity: 0; }
            to { transform: translateX(0) translateY(0); opacity: 1; }
        }
        
        @keyframes slideOut {
            from { transform: translateX(0) translateY(0); opacity: 1; }
            to { transform: translateX(100%) translateY(-20px); opacity: 0; }
        }
        
        .notification-content {
            display: flex;
            align-items: center;
            gap: 12px;
            flex: 1;
        }
        
        .notification-close {
            background: rgba(255,255,255,0.15);
            border: none;
            color: white;
            cursor: pointer;
            margin-left: 15px;
            padding: 5px;
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 28px;
            height: 28px;
            transition: background 0.2s;
        }
        
        .notification-close:hover {
            background: rgba(255,255,255,0.25);
        }
        
        /* Active buttons styles */
        .lang-btn.active, .theme-btn.active {
            background: var(--primary-color);
            color: white;
            box-shadow: 0 4px 12px rgba(37, 99, 235, 0.3);
        }
        
        .lang-btn.active .active-indicator,
        .theme-btn.active .active-indicator {
            display: inline-block;
            width: 6px;
            height: 6px;
            background: white;
            border-radius: 50%;
            margin-left: 5px;
        }
        
        .lang-btn.active .lang-text,
        .theme-btn.active .theme-text,
        .lang-btn.active i,
        .theme-btn.active i {
            color: white;
        }
    </style>
</head>
<body data-theme="light">
    <!-- Header Section -->
    <header>
        <nav class="navbar">
            <div class="container">
                <div class="logo">
                    <i class="fas fa-wifi"></i>
                    <span data-i18n="site_name">‡¶Ü‡¶≤‡ßç‡¶ü‡ßç‡¶∞‡¶æ ‡¶ì‡¶Ø‡¶º‡¶æ‡¶á‡¶´‡¶æ‡¶á</span>
                </div>
                
                <div class="switchers">
                    <!-- Language Switcher -->
                    <div class="lang-switcher">
                        <button id="langBn" class="lang-btn" data-lang="bn">
                            <img src="https://flagcdn.com/w20/bd.png" alt="Bangla" class="flag">
                            <span class="lang-text">‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ</span>
                            <span class="active-indicator"></span>
                        </button>
                        <button id="langEn" class="lang-btn" data-lang="en">
                            <img src="https://flagcdn.com/w20/gb.png" alt="English" class="flag">
                            <span class="lang-text">English</span>
                            <span class="active-indicator"></span>
                        </button>
                    </div>
                    
                    <!-- Theme Switcher -->
                    <div class="theme-switcher">
                        <button id="themeLight" class="theme-btn" data-theme="light">
                            <i class="fas fa-sun"></i>
                            <span class="theme-text" data-i18n="light_mode">‡¶¶‡¶ø‡¶®</span>
                            <span class="active-indicator"></span>
                        </button>
                        <button id="themeDark" class="theme-btn" data-theme="dark">
                            <i class="fas fa-moon"></i>
                            <span class="theme-text" data-i18n="dark_mode">‡¶∞‡¶æ‡¶§</span>
                            <span class="active-indicator"></span>
                        </button>
                    </div>
                </div>
            </div>
        </nav>
        
        <div class="hero">
            <div class="container">
                <h1 data-i18n="hero_title">‚ö° ‡¶Ü‡¶≤‡ßç‡¶ü‡ßç‡¶∞‡¶æ ‡¶´‡¶æ‡¶∏‡ßç‡¶ü ‡¶ì‡¶Ø‡¶º‡¶æ‡¶á‡¶´‡¶æ‡¶á ‡¶á‡¶®‡ßç‡¶ü‡¶æ‡¶∞‡¶®‡ßá‡¶ü</h1>
                <p class="subtitle" data-i18n="hero_subtitle">
                    ‡ß®‡ß™/‡ß≠ ‡ßß‡ß¶‡ß¶% ‡¶Ü‡¶™‡¶ü‡¶æ‡¶á‡¶Æ ‡¶ó‡ßç‡¶Ø‡¶æ‡¶∞‡¶æ‡¶®‡ßç‡¶ü‡¶ø ‡¶∏‡¶π ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶¶‡ßá‡¶∂‡ßá‡¶∞ ‡¶∏‡ßá‡¶∞‡¶æ ‡¶π‡¶æ‡¶á-‡¶∏‡ßç‡¶™‡¶ø‡¶° ‡¶ì‡¶Ø‡¶º‡¶æ‡¶á‡¶´‡¶æ‡¶á ‡¶∏‡¶æ‡¶∞‡ßç‡¶≠‡¶ø‡¶∏
                </p>
                
                <div class="cta-buttons">
                    <a href="#pricing" class="btn btn-primary" data-i18n="view_plans">‡¶™‡ßç‡¶≤‡ßç‡¶Ø‡¶æ‡¶® ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®</a>
                    <a href="#register" class="btn btn-secondary" data-i18n="register_now">‡¶è‡¶ñ‡¶®‡¶á ‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®</a>
                </div>
            </div>
        </div>
    </header>

    <!-- Features Section -->
    <section class="features" id="features">
        <div class="container">
            <h2 class="section-title" data-i18n="our_features">‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶¨‡¶ø‡¶∂‡ßá‡¶∑ ‡¶∏‡ßÅ‡¶¨‡¶ø‡¶ß‡¶æ‡¶∏‡¶Æ‡ßÇ‡¶π</h2>
            
            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-bolt"></i>
                    </div>
                    <h3 data-i18n="feature_uptime">‡ß®‡ß™/‡ß≠ ‡ßß‡ß¶‡ß¶% ‡¶Ü‡¶™‡¶ü‡¶æ‡¶á‡¶Æ</h3>
                    <p data-i18n="feature_uptime_desc">
                        ‡¶¨‡¶ø‡¶¶‡ßç‡¶Ø‡ßÅ‡ßé ‡¶ö‡¶≤‡ßá ‡¶ó‡ßá‡¶≤‡ßá‡¶ì ‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶Ü‡¶™ ‡¶∏‡¶ø‡¶∏‡ßç‡¶ü‡ßá‡¶Æ‡ßá ‡ß®‡ß™ ‡¶ò‡¶£‡ßç‡¶ü‡¶æ ‡¶∏‡¶æ‡¶∞‡ßç‡¶≠‡¶ø‡¶∏
                    </p>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-tachometer-alt"></i>
                    </div>
                    <h3 data-i18n="feature_speed">‡ß´‡ß¶‡ß¶ Mbps ‡¶∏‡ßç‡¶™‡¶ø‡¶°</h3>
                    <p data-i18n="feature_speed_desc">
                        ‡ß™K ‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡¶ø‡¶Æ‡¶ø‡¶Ç, ‡¶ó‡ßá‡¶Æ‡¶ø‡¶Ç, ‡¶°‡¶æ‡¶â‡¶®‡¶≤‡ßã‡¶° - ‡¶∏‡¶¨‡¶ï‡¶ø‡¶õ‡ßÅ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶™‡¶æ‡¶∞‡¶´‡ßá‡¶ï‡ßç‡¶ü ‡¶∏‡ßç‡¶™‡¶ø‡¶°
                    </p>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-gamepad"></i>
                    </div>
                    <h3 data-i18n="feature_gaming">‡¶ó‡ßá‡¶Æ‡¶ø‡¶Ç ‡¶Ö‡¶™‡¶ü‡¶ø‡¶Æ‡¶æ‡¶á‡¶ú‡¶°</h3>
                    <p data-i18n="feature_gaming_desc">
                        Valorant, Steam, Fivem, Epic Games - ‡¶∏‡¶¨ ‡¶ó‡ßá‡¶Æ‡ßá ‡¶≤‡ßã ‡¶≤‡ßá‡¶ü‡ßá‡¶®‡ßç‡¶∏‡¶ø
                    </p>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-film"></i>
                    </div>
                    <h3 data-i18n="feature_streaming">‡ß™K ‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡¶ø‡¶Æ‡¶ø‡¶Ç</h3>
                    <p data-i18n="feature_streaming_desc">
                        Netflix, YouTube, Amazon Prime - ‡¶¨‡¶æ‡¶´‡¶æ‡¶∞‡¶ø‡¶Ç ‡¶õ‡¶æ‡¶°‡¶º‡¶æ ‡ß™K ‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡¶ø‡¶Æ‡¶ø‡¶Ç
                    </p>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-server"></i>
                    </div>
                    <h3 data-i18n="feature_ftp">‡¶Æ‡ßÅ‡¶≠‡¶ø ‡¶∏‡¶æ‡¶∞‡ßç‡¶≠‡¶æ‡¶∞</h3>
                    <p data-i18n="feature_ftp_desc">
                        ‡¶è‡¶ï‡ßç‡¶∏‡¶ï‡ßç‡¶≤‡ßÅ‡¶∏‡¶ø‡¶≠ HD ‡¶Æ‡ßÅ‡¶≠‡¶ø ‡¶∏‡¶æ‡¶∞‡ßç‡¶≠‡¶æ‡¶∞ - ‡¶∏‡¶ø‡¶®‡ßá‡¶Æ‡¶æ ‡¶¶‡ßá‡¶ñ‡¶æ‡¶∞ ‡¶¨‡¶ø‡¶∂‡ßá‡¶∑ ‡¶∏‡ßÅ‡¶¨‡¶ø‡¶ß‡¶æ
                    </p>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-rocket"></i>
                    </div>
                    <h3 data-i18n="feature_cdn">CDN ‡¶è‡¶ï‡ßç‡¶∏‡ßá‡¶≤‡¶æ‡¶∞‡ßá‡¶∂‡¶®</h3>
                    <p data-i18n="feature_cdn_desc">
                        ‡¶ú‡¶®‡¶™‡ßç‡¶∞‡¶ø‡¶Ø‡¶º ‡¶∏‡¶æ‡¶∞‡ßç‡¶≠‡¶æ‡¶∞‡ßá ‡ßß‡ß¶x ‡¶∏‡ßç‡¶™‡¶ø‡¶°, ‡¶ï‡¶®‡¶ü‡ßá‡¶®‡ßç‡¶ü ‡¶°‡ßá‡¶≤‡¶ø‡¶≠‡¶æ‡¶∞‡¶ø ‡¶®‡ßá‡¶ü‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶ï
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- Pricing Section -->
    <section class="pricing" id="pricing">
        <div class="container">
            <h2 class="section-title" data-i18n="pricing_plans">‡¶™‡ßç‡¶Ø‡¶æ‡¶ï‡ßá‡¶ú ‡¶ì ‡¶Æ‡ßÇ‡¶≤‡ßç‡¶Ø</h2>
            
            <div class="pricing-cards">
                <div class="price-card">
                    <div class="price-header">
                        <h3 data-i18n="basic_plan">‡¶¨‡ßá‡¶∏‡¶ø‡¶ï ‡¶™‡ßç‡¶≤‡ßç‡¶Ø‡¶æ‡¶®</h3>
                        <div class="price">
                            <span class="amount">‡ßß‡ß´‡ß¶</span>
                            <span class="currency" data-i18n="bdt">‡¶ü‡¶æ‡¶ï‡¶æ/‡¶Æ‡¶æ‡¶∏</span>
                        </div>
                    </div>
                    
                    <ul class="plan-features">
                        <li><i class="fas fa-check"></i> <span data-i18n="plan_device">‡ßß‡¶ü‡¶ø ‡¶°‡¶ø‡¶≠‡¶æ‡¶á‡¶∏</span></li>
                        <li><i class="fas fa-check"></i> <span data-i18n="plan_unlimited">‡¶Ü‡¶®‡¶≤‡¶ø‡¶Æ‡¶ø‡¶ü‡ßá‡¶° ‡¶°‡ßá‡¶ü‡¶æ</span></li>
                        <li><i class="fas fa-check"></i> <span data-i18n="plan_speed">‡ß´‡ß¶‡ß¶ Mbps ‡¶∏‡ßç‡¶™‡¶ø‡¶°</span></li>
                        <li><i class="fas fa-check"></i> <span data-i18n="plan_ftp">‡¶Æ‡ßÅ‡¶≠‡¶ø ‡¶∏‡¶æ‡¶∞‡ßç‡¶≠‡¶æ‡¶∞ ‡¶è‡¶ï‡ßç‡¶∏‡ßá‡¶∏</span></li>
                        <li><i class="fas fa-check"></i> <span data-i18n="plan_support">‡ß®‡ß™/‡ß≠ ‡¶∏‡¶æ‡¶™‡ßã‡¶∞‡ßç‡¶ü</span></li>
                    </ul>
                    
                    <button class="btn btn-primary select-plan" data-plan="basic" data-i18n="select_plan">
                        ‡¶∏‡¶ø‡¶≤‡ßá‡¶ï‡ßç‡¶ü ‡¶™‡ßç‡¶≤‡ßç‡¶Ø‡¶æ‡¶®
                    </button>
                </div>
            </div>
            
            <div class="payment-methods">
                <h3 data-i18n="payment_methods">‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶™‡¶¶‡ßç‡¶ß‡¶§‡¶ø</h3>
                <div class="methods-grid">
                    <div class="method" data-method="bkash">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/f/f0/Bkash_Logo.svg/512px-Bkash_Logo.svg.png" alt="bKash">
                        <span data-i18n="bkash">‡¶¨‡¶ø‡¶ï‡¶æ‡¶∂</span>
                    </div>
                    <div class="method" data-method="nagad">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/1/18/Nagad_Logo.png/512px-Nagad_Logo.png" alt="Nagad">
                        <span data-i18n="nagad">‡¶®‡¶ó‡¶¶</span>
                    </div>
                    <div class="method" data-method="upay">
                        <img src="https://seeklogo.com/images/U/uPay-logo-69A0EB0C4B-seeklogo.com.png" alt="Upay">
                        <span data-i18n="upay">‡¶Ü‡¶™‡ßá</span>
                    </div>
                    <div class="method" data-method="rocket">
                        <img src="https://www.dutchbanglabank.com/images/rocket.png" alt="Rocket">
                        <span data-i18n="rocket">‡¶∞‡¶ï‡ßá‡¶ü</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Registration Form -->
    <section class="registration" id="register">
        <div class="container">
            <h2 class="section-title" data-i18n="registration_form">‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡ßá‡¶∂‡¶® ‡¶´‡¶∞‡ßç‡¶Æ</h2>
            
            <div class="form-container">
                <form id="registrationForm">
                    <div class="form-group">
                        <label for="name" data-i18n="full_name">‡¶™‡ßÇ‡¶∞‡ßç‡¶£ ‡¶®‡¶æ‡¶Æ *</label>
                        <input type="text" id="name" 
                               data-placeholder-bn="‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡ßÇ‡¶∞‡ßç‡¶£ ‡¶®‡¶æ‡¶Æ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®"
                               data-placeholder-en="Enter your full name"
                               required>
                    </div>
                    
                    <div class="form-group">
                        <label for="phone" data-i18n="phone_number">‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤ ‡¶®‡¶æ‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞ *</label>
                        <input type="tel" id="phone"
                               data-placeholder-bn="01XXXXXXXXX"
                               data-placeholder-en="01XXXXXXXXX"
                               pattern="[0-9]{11}"
                               required>
                        <small data-i18n="phone_hint">WhatsApp ‡¶è ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶™‡¶æ‡¶†‡¶æ‡¶®‡ßã‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø</small>
                    </div>
                    
                    <div class="form-group">
                        <label for="email" data-i18n="email_address">‡¶á‡¶Æ‡ßá‡¶á‡¶≤ ‡¶†‡¶ø‡¶ï‡¶æ‡¶®‡¶æ</label>
                        <input type="email" id="email"
                               data-placeholder-bn="‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶á‡¶Æ‡ßá‡¶á‡¶≤ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®"
                               data-placeholder-en="Enter your email address">
                        <small data-i18n="email_hint">‡¶ê‡¶ö‡ßç‡¶õ‡¶ø‡¶ï - ‡¶á‡¶Æ‡ßá‡¶á‡¶≤‡ßá‡¶ì ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶™‡¶æ‡¶†‡¶æ‡¶®‡ßã ‡¶π‡¶¨‡ßá</small>
                    </div>
                    
                    <div class="form-group">
                        <label for="paymentMethod" data-i18n="payment_method">‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶Æ‡ßá‡¶•‡¶° *</label>
                        <select id="paymentMethod" required>
                            <option value="" data-i18n="select_method">‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶Æ‡ßá‡¶•‡¶° ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®</option>
                            <option value="bkash" data-i18n="bkash">‡¶¨‡¶ø‡¶ï‡¶æ‡¶∂</option>
                            <option value="nagad" data-i18n="nagad">‡¶®‡¶ó‡¶¶</option>
                            <option value="upay" data-i18n="upay">‡¶Ü‡¶™‡ßá</option>
                            <option value="rocket" data-i18n="rocket">‡¶∞‡¶ï‡ßá‡¶ü</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="transactionId" data-i18n="transaction_id">‡¶ü‡ßç‡¶∞‡¶æ‡¶®‡¶ú‡ßá‡¶ï‡¶∂‡¶® ‡¶Ü‡¶á‡¶°‡¶ø *</label>
                        <input type="text" id="transactionId"
                               data-placeholder-bn="TRX123456789"
                               data-placeholder-en="TRX123456789"
                               required>
                    </div>
                    
                    <div class="form-group">
                        <label for="senderNumber" data-i18n="sender_number">‡¶∏‡ßá‡¶®‡ßç‡¶°‡¶æ‡¶∞ ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞ *</label>
                        <input type="tel" id="senderNumber"
                               data-placeholder-bn="‡¶Ø‡ßá ‡¶®‡¶æ‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞ ‡¶•‡ßá‡¶ï‡ßá ‡¶™‡¶æ‡¶†‡¶ø‡¶Ø‡¶º‡ßá‡¶õ‡ßá‡¶®"
                               data-placeholder-en="Sender phone number"
                               pattern="[0-9]{11}"
                               required>
                    </div>
                    
                    <div class="form-group checkbox">
                        <input type="checkbox" id="terms" required>
                        <label for="terms">
                            <span data-i18n="terms_text">
                                ‡¶Ü‡¶Æ‡¶ø ‡ßß‡ß´‡ß¶ ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶™‡¶æ‡¶†‡¶ø‡¶Ø‡¶º‡ßá‡¶õ‡¶ø ‡¶è‡¶¨‡¶Ç ‡¶∏‡¶Æ‡¶∏‡ßç‡¶§ ‡¶∂‡¶∞‡ßç‡¶§ ‡¶Æ‡ßá‡¶®‡ßá ‡¶®‡¶ø‡¶ö‡ßç‡¶õ‡¶ø‡•§ 
                                ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶≠‡ßá‡¶∞‡¶ø‡¶´‡¶æ‡¶á ‡¶π‡¶≤‡ßá WhatsApp/‡¶á‡¶Æ‡ßá‡¶á‡¶≤‡ßá ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶™‡¶æ‡¶¨‡ßã‡•§
                            </span>
                        </label>
                    </div>
                    
                    <button type="submit" class="btn btn-primary submit-btn" data-i18n="submit_form">
                        ‡¶∏‡¶æ‡¶¨‡¶Æ‡¶ø‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®
                    </button>
                </form>

                <div class="instructions">
                    <h3 data-i18n="payment_steps">‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶®‡¶ø‡¶Ø‡¶º‡¶Æ</h3>
                    <ol>
                        <li data-i18n="step1">‡¶¨‡¶ø‡¶ï‡¶æ‡¶∂/‡¶®‡¶ó‡¶¶/‡¶Ü‡¶™‡ßá/‡¶∞‡¶ï‡ßá‡¶ü ‡¶è ‡ßß‡ß´‡ß¶ ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶™‡¶æ‡¶†‡¶æ‡¶®</li>
                        <li data-i18n="step2">‡¶®‡¶ø‡¶ö‡ßá‡¶∞ ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞‡ßá ‡¶™‡¶æ‡¶†‡¶æ‡¶®: <strong>01XXX-XXXXXX</strong></li>
                        <li data-i18n="step3">‡¶ü‡ßç‡¶∞‡¶æ‡¶®‡¶ú‡ßá‡¶ï‡¶∂‡¶® ‡¶Ü‡¶á‡¶°‡¶ø ‡¶®‡ßã‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®</li>
                        <li data-i18n="step4">‡¶â‡¶™‡¶∞‡ßá‡¶∞ ‡¶´‡¶∞‡ßç‡¶Æ ‡¶™‡ßÇ‡¶∞‡¶£ ‡¶ï‡¶∞‡ßÅ‡¶®</li>
                        <li data-i18n="step5">‡¶Ü‡¶Æ‡¶∞‡¶æ ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶≠‡ßá‡¶∞‡¶ø‡¶´‡¶æ‡¶á ‡¶ï‡¶∞‡¶¨</li>
                        <li data-i18n="step6">WhatsApp/‡¶á‡¶Æ‡ßá‡¶á‡¶≤‡ßá ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶™‡¶æ‡¶¨‡ßá‡¶®</li>
                    </ol>
                    
                    <div class="contact-info">
                        <h4 data-i18n="contact_us">‡¶Ø‡ßã‡¶ó‡¶æ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®</h4>
                        <p>
                            <i class="fab fa-whatsapp"></i>
                            <span data-i18n="whatsapp">WhatsApp:</span> +8801XXX-XXXXXX
                        </p>
                        <p>
                            <i class="fas fa-envelope"></i>
                            <span data-i18n="email">‡¶á‡¶Æ‡ßá‡¶á‡¶≤:</span> support@ultrawifi.com
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- User Panel -->
    <section class="user-panel" id="userPanel">
        <div class="container">
            <h2 class="section-title" data-i18n="user_panel">‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶™‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶≤</h2>
            
            <div class="promo-login" id="promoLoginForm">
                <div class="login-container">
                    <h3 data-i18n="promo_login">‡¶™‡ßç‡¶∞‡ßã‡¶Æ‡ßã ‡¶ï‡ßã‡¶° ‡¶¶‡¶ø‡ßü‡ßá ‡¶≤‡¶ó‡¶á‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®</h3>
                    <p data-i18n="promo_login_desc">
                        ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡ßá‡¶∂‡¶®‡ßá‡¶∞ ‡¶™‡¶∞ WhatsApp/‡¶á‡¶Æ‡ßá‡¶á‡¶≤‡ßá ‡¶™‡ßç‡¶∞‡¶æ‡¶™‡ßç‡¶§ ‡¶™‡ßç‡¶∞‡ßã‡¶Æ‡ßã ‡¶ï‡ßã‡¶°‡¶ü‡¶ø ‡¶¶‡¶ø‡¶®
                    </p>
                    
                    <form id="promoLoginFormElement">
                        <div class="form-group">
                            <input type="text" id="promoCode" 
                                   data-placeholder-bn="‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡ßç‡¶∞‡ßã‡¶Æ‡ßã ‡¶ï‡ßã‡¶° ‡¶¶‡¶ø‡¶®"
                                   data-placeholder-en="Enter your promo code"
                                   required>
                            <small data-i18n="promo_hint">‡¶Ø‡ßá‡¶Æ‡¶®: ULTRA-XXXX-XXXX</small>
                        </div>
                        
                        <button type="submit" class="btn btn-primary" data-i18n="login">
                            ‡¶≤‡¶ó‡¶á‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®
                        </button>
                    </form>
                    
                    <div class="login-help">
                        <p data-i18n="promo_help">
                            ‡¶™‡ßç‡¶∞‡ßã‡¶Æ‡ßã ‡¶ï‡ßã‡¶° ‡¶™‡¶æ‡¶®‡¶®‡¶ø? ‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ WhatsApp ‡¶¨‡¶æ ‡¶á‡¶Æ‡ßá‡¶á‡¶≤‡ßá ‡¶Ø‡ßã‡¶ó‡¶æ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®
                        </p>
                    </div>
                </div>
            </div>
            
            <div class="user-dashboard" id="userDashboard" style="display: none;">
                <div class="dashboard-header">
                    <div class="user-info">
                        <div class="avatar">
                            <i class="fas fa-user-circle"></i>
                        </div>
                        <div class="user-details">
                            <h3 id="userName">‡¶á‡¶â‡¶ú‡¶æ‡¶∞‡ßá‡¶∞ ‡¶®‡¶æ‡¶Æ</h3>
                            <p class="user-id" data-i18n="user_id">‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶Ü‡¶á‡¶°‡¶ø: <span id="userId">ULTRA-XXXX</span></p>
                        </div>
                    </div>
                    
                    <button class="btn btn-secondary logout-btn" id="logoutBtn" data-i18n="logout">
                        ‡¶≤‡¶ó‡¶Ü‡¶â‡¶ü
                    </button>
                </div>
                
                <div class="dashboard-grid">
                    <!-- Package Info Card -->
                    <div class="dashboard-card">
                        <div class="card-header">
                            <i class="fas fa-cube"></i>
                            <h4 data-i18n="package_info">‡¶™‡ßç‡¶Ø‡¶æ‡¶ï‡ßá‡¶ú ‡¶§‡¶•‡ßç‡¶Ø</h4>
                        </div>
                        <div class="card-content">
                            <div class="info-item">
                                <span data-i18n="plan_type">‡¶™‡ßç‡¶≤‡ßç‡¶Ø‡¶æ‡¶® ‡¶ü‡¶æ‡¶á‡¶™:</span>
                                <strong id="userPlan">‡¶¨‡ßá‡¶∏‡¶ø‡¶ï ‡¶™‡ßç‡¶≤‡ßç‡¶Ø‡¶æ‡¶®</strong>
                            </div>
                            <div class="info-item">
                                <span data-i18n="devices_allowed">‡¶Ö‡¶®‡ßÅ‡¶Æ‡ßã‡¶¶‡¶ø‡¶§ ‡¶°‡¶ø‡¶≠‡¶æ‡¶á‡¶∏:</span>
                                <strong id="allowedDevices">‡ßß‡¶ü‡¶ø ‡¶°‡¶ø‡¶≠‡¶æ‡¶á‡¶∏</strong>
                            </div>
                            <div class="info-item">
                                <span data-i18n="devices_used">‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡ßÉ‡¶§ ‡¶°‡¶ø‡¶≠‡¶æ‡¶á‡¶∏:</span>
                                <span class="device-count" id="usedDevices">‡ß¶</span>
                                <div class="progress-bar">
                                    <div class="progress-fill" id="deviceProgress" style="width: 0%"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Payment Info Card -->
                    <div class="dashboard-card">
                        <div class="card-header">
                            <i class="fas fa-credit-card"></i>
                            <h4 data-i18n="payment_info">‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶§‡¶•‡ßç‡¶Ø</h4>
                        </div>
                        <div class="card-content">
                            <div class="info-item">
                                <span data-i18n="registration_date">‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡ßá‡¶∂‡¶® ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ:</span>
                                <strong id="regDate">‡ßß ‡¶ú‡¶æ‡¶®‡ßÅ‡¶Ø‡¶º‡¶æ‡¶∞‡¶ø ‡ß®‡ß¶‡ß®‡ß™</strong>
                            </div>
                            <div class="info-item">
                                <span data-i18n="last_payment">‡¶∏‡¶∞‡ßç‡¶¨‡¶∂‡ßá‡¶∑ ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü:</span>
                                <strong id="lastPayment">‡ßß‡ß´‡ß¶ ‡¶ü‡¶æ‡¶ï‡¶æ</strong>
                            </div>
                            <div class="info-item">
                                <span data-i18n="next_payment">‡¶™‡¶∞‡¶¨‡¶∞‡ßç‡¶§‡ßÄ ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü:</span>
                                <strong class="due-date" id="nextPayment">‡ßß ‡¶´‡ßá‡¶¨‡ßç‡¶∞‡ßÅ‡¶Ø‡¶º‡¶æ‡¶∞‡¶ø ‡ß®‡ß¶‡ß®‡ß™</strong>
                            </div>
                            <div class="info-item">
                                <span data-i18n="payment_status">‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∏:</span>
                                <span class="status active" id="paymentStatus" data-i18n="active">‡¶è‡¶ï‡¶ü‡¶ø‡¶≠</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Connection Info Card -->
                    <div class="dashboard-card">
                        <div class="card-header">
                            <i class="fas fa-wifi"></i>
                            <h4 data-i18n="connection_info">‡¶ï‡¶æ‡¶®‡ßá‡¶ï‡¶∂‡¶® ‡¶§‡¶•‡ßç‡¶Ø</h4>
                        </div>
                        <div class="card-content">
                            <div class="info-item">
                                <span data-i18n="wifi_name">WiFi ‡¶®‡¶æ‡¶Æ:</span>
                                <code id="wifiName">ULTRA_WIFI_ZONE</code>
                                <button class="copy-btn" onclick="copyToClipboard('wifiName')">
                                    <i class="fas fa-copy"></i>
                                </button>
                            </div>
                            <div class="info-item">
                                <span data-i18n="speed">‡¶∏‡ßç‡¶™‡¶ø‡¶°:</span>
                                <strong>500 Mbps</strong>
                            </div>
                            <div class="info-item">
                                <span data-i18n="uptime">‡¶Ü‡¶™‡¶ü‡¶æ‡¶á‡¶Æ:</span>
                                <span class="status success">100%</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Movie Server Card -->
                    <div class="dashboard-card">
                        <div class="card-header">
                            <i class="fas fa-film"></i>
                            <h4 data-i18n="movie_server">‡¶Æ‡ßÅ‡¶≠‡¶ø ‡¶∏‡¶æ‡¶∞‡ßç‡¶≠‡¶æ‡¶∞</h4>
                        </div>
                        <div class="card-content">
                            <div class="info-item">
                                <span>‡¶è‡¶ï‡ßç‡¶∏‡¶ï‡ßç‡¶≤‡ßÅ‡¶∏‡¶ø‡¶≠ ‡¶Æ‡ßÅ‡¶≠‡¶ø ‡¶™‡ßç‡¶≤‡¶æ‡¶ü‡¶´‡¶∞‡ßç‡¶Æ:</span>
                                <a href="http://www.dflix.live/" target="_blank" class="movie-link">
                                    <i class="fas fa-external-link-alt"></i>
                                    DFLIX.LIVE
                                </a>
                            </div>
                            <p class="movie-desc">
                                HD ‡¶Æ‡ßÅ‡¶≠‡¶ø ‡¶ì ‡¶∏‡¶ø‡¶∞‡¶ø‡¶ú ‡¶¶‡ßá‡¶ñ‡¶æ‡¶∞ ‡¶¨‡¶ø‡¶∂‡ßá‡¶∑ ‡¶è‡¶ï‡ßç‡¶∏‡ßá‡¶∏‡•§ ‡¶∏‡¶∞‡¶æ‡¶∏‡¶∞‡¶ø ‡¶≤‡¶ø‡¶Ç‡¶ï‡¶ü‡¶ø ‡¶ï‡ßç‡¶≤‡¶ø‡¶ï ‡¶ï‡¶∞‡ßá ‡¶â‡¶™‡¶≠‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®‡•§
                            </p>
                            <a href="http://www.dflix.live/" class="btn btn-primary" target="_blank">
                                <i class="fas fa-play-circle"></i>
                                ‡¶Æ‡ßÅ‡¶≠‡¶ø ‡¶∏‡¶æ‡¶∞‡ßç‡¶≠‡¶æ‡¶∞‡ßá ‡¶Ø‡¶æ‡¶®
                            </a>
                        </div>
                    </div>
                    
                    <!-- Device Management Card -->
                    <div class="dashboard-card">
                        <div class="card-header">
                            <i class="fas fa-laptop"></i>
                            <h4 data-i18n="device_management">‡¶°‡¶ø‡¶≠‡¶æ‡¶á‡¶∏ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶∏‡ßç‡¶•‡¶æ‡¶™‡¶®‡¶æ</h4>
                        </div>
                        <div class="card-content">
                            <div class="device-list" id="deviceList">
                                <div class="no-devices">
                                    ‡¶ï‡ßã‡¶®‡ßã ‡¶°‡¶ø‡¶≠‡¶æ‡¶á‡¶∏ ‡¶ï‡¶æ‡¶®‡ßá‡¶ï‡ßç‡¶ü‡ßá‡¶° ‡¶®‡ßá‡¶á
                                </div>
                            </div>
                            <button class="btn btn-primary" id="addDeviceBtn" data-i18n="add_device">
                                ‡¶®‡¶§‡ßÅ‡¶® ‡¶°‡¶ø‡¶≠‡¶æ‡¶á‡¶∏ ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-logo">
                    <i class="fas fa-wifi"></i>
                    <span data-i18n="site_name">‡¶Ü‡¶≤‡ßç‡¶ü‡ßç‡¶∞‡¶æ ‡¶ì‡¶Ø‡¶º‡¶æ‡¶á‡¶´‡¶æ‡¶á</span>
                </div>
                
                <p class="footer-text" data-i18n="footer_text">
                    ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶¶‡ßá‡¶∂‡ßá‡¶∞ ‡¶∏‡ßá‡¶∞‡¶æ ‡¶π‡¶æ‡¶á-‡¶∏‡ßç‡¶™‡¶ø‡¶° ‡¶ì‡¶Ø‡¶º‡¶æ‡¶á‡¶´‡¶æ‡¶á ‡¶∏‡¶æ‡¶∞‡ßç‡¶≠‡¶ø‡¶∏ ‡¶™‡ßç‡¶∞‡ßã‡¶≠‡¶æ‡¶á‡¶°‡¶æ‡¶∞
                </p>
                
                <div class="footer-links">
                    <a href="#features" data-i18n="features">‡¶´‡¶ø‡¶ö‡¶æ‡¶∞‡¶∏</a>
                    <a href="#pricing" data-i18n="pricing">‡¶Æ‡ßÇ‡¶≤‡ßç‡¶Ø</a>
                    <a href="#register" data-i18n="register">‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡¶æ‡¶∞</a>
                    <a href="#userPanel" data-i18n="user_panel">‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶™‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶≤</a>
                </div>
                
                <p class="copyright" data-i18n="copyright">
                    ¬© ‡ß®‡ß¶‡ß®‡ß™ ‡¶Ü‡¶≤‡ßç‡¶ü‡ßç‡¶∞‡¶æ ‡¶ì‡¶Ø‡¶º‡¶æ‡¶á‡¶´‡¶æ‡¶á‡•§ ‡¶∏‡¶∞‡ßç‡¶¨‡¶∏‡ßç‡¶¨‡¶§‡ßç‡¶¨ ‡¶∏‡¶Ç‡¶∞‡¶ï‡ßç‡¶∑‡¶ø‡¶§‡•§
                </p>
            </div>
        </div>
    </footer>

    <!-- Success Modal -->
    <div id="successModal" class="modal">
        <div class="modal-content">
            <div class="modal-icon">
                <i class="fas fa-check-circle"></i>
            </div>
            <h3 data-i18n="success_title">‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶∏‡¶æ‡¶¨‡¶Æ‡¶ø‡¶ü ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!</h3>
            <p id="successMessage" data-i18n="success_message">
                ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶´‡¶∞‡ßç‡¶Æ ‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶ú‡¶Æ‡¶æ ‡¶¶‡ßá‡¶ì‡¶Ø‡¶º‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá‡•§ ‡¶Ü‡¶Æ‡¶∞‡¶æ ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶≠‡ßá‡¶∞‡¶ø‡¶´‡¶æ‡¶á ‡¶ï‡¶∞‡ßá 
                WhatsApp/‡¶á‡¶Æ‡ßá‡¶á‡¶≤‡ßá ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶™‡¶æ‡¶†‡¶æ‡¶¨‡ßã‡•§ ‡ß®‡ß™ ‡¶ò‡¶£‡ßç‡¶ü‡¶æ‡¶∞ ‡¶Æ‡¶ß‡ßç‡¶Ø‡ßá ‡¶™‡ßá‡¶Ø‡¶º‡ßá ‡¶Ø‡¶æ‡¶¨‡ßá‡¶®‡•§
            </p>
            <button class="btn btn-primary close-modal" data-i18n="close_modal">‡¶†‡¶ø‡¶ï ‡¶Ü‡¶õ‡ßá</button>
        </div>
    </div>

    <!-- Error Modal -->
    <div id="errorModal" class="modal">
        <div class="modal-content">
            <div class="modal-icon error">
                <i class="fas fa-times-circle"></i>
            </div>
            <h3 data-i18n="error_title">‡¶§‡ßç‡¶∞‡ßÅ‡¶ü‡¶ø ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!</h3>
            <p id="errorMessage" data-i18n="error_message">
                ‡¶∏‡¶æ‡¶¨‡¶Æ‡¶ø‡¶ü ‡¶ï‡¶∞‡¶§‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶π‡¶ö‡ßç‡¶õ‡ßá‡•§ ‡¶Ö‡¶®‡ßÅ‡¶ó‡ßç‡¶∞‡¶π ‡¶ï‡¶∞‡ßá ‡¶™‡¶∞‡ßá ‡¶Ü‡¶¨‡¶æ‡¶∞ ‡¶ö‡ßá‡¶∑‡ßç‡¶ü‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§
            </p>
            <button class="btn btn-primary close-modal" data-i18n="close_modal">‡¶†‡¶ø‡¶ï ‡¶Ü‡¶õ‡ßá</button>
        </div>
    </div>

    <!-- Add Device Modal -->
    <div id="addDeviceModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 data-i18n="add_new_device">‡¶®‡¶§‡ßÅ‡¶® ‡¶°‡¶ø‡¶≠‡¶æ‡¶á‡¶∏ ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®</h3>
                <button class="close-modal">&times;</button>
            </div>
            <div class="modal-body">
                <form id="addDeviceForm">
                    <div class="form-group">
                        <label data-i18n="device_name">‡¶°‡¶ø‡¶≠‡¶æ‡¶á‡¶∏‡ßá‡¶∞ ‡¶®‡¶æ‡¶Æ</label>
                        <input type="text" id="newDeviceName" 
                               data-placeholder-bn="‡¶Ø‡ßá‡¶Æ‡¶®: ‡¶Ü‡¶Æ‡¶æ‡¶∞ ‡¶≤‡ßç‡¶Ø‡¶æ‡¶™‡¶ü‡¶™"
                               data-placeholder-en="e.g., My Laptop"
                               required>
                    </div>
                    <div class="form-group">
                        <label data-i18n="device_type">‡¶°‡¶ø‡¶≠‡¶æ‡¶á‡¶∏ ‡¶ü‡¶æ‡¶á‡¶™</label>
                        <select id="deviceType" required>
                            <option value="mobile" data-i18n="mobile_phone">‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤ ‡¶´‡ßã‡¶®</option>
                            <option value="laptop" data-i18n="laptop">‡¶≤‡ßç‡¶Ø‡¶æ‡¶™‡¶ü‡¶™</option>
                            <option value="pc" data-i18n="desktop_pc">‡¶°‡ßá‡¶∏‡ßç‡¶ï‡¶ü‡¶™ ‡¶™‡¶ø‡¶∏‡¶ø</option>
                            <option value="tablet" data-i18n="tablet">‡¶ü‡ßç‡¶Ø‡¶æ‡¶¨‡¶≤‡ßá‡¶ü</option>
                            <option value="tv" data-i18n="smart_tv">‡¶∏‡ßç‡¶Æ‡¶æ‡¶∞‡ßç‡¶ü ‡¶ü‡¶ø‡¶≠‡¶ø</option>
                        </select>
                    </div>
                    <button type="submit" class="btn btn-primary" data-i18n="add_device">
                        ‡¶°‡¶ø‡¶≠‡¶æ‡¶á‡¶∏ ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®
                    </button>
                </form>
            </div>
        </div>
    </div>

    <!-- Loading Spinner -->
    <div id="loading" class="loading">
        <div class="spinner"></div>
        <p data-i18n="processing">‡¶™‡ßç‡¶∞‡¶∏‡ßá‡¶∏‡¶ø‡¶Ç ‡¶π‡¶ö‡ßç‡¶õ‡ßá...</p>
    </div>

    <script>
        // Configuration - ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ Supabase credentials
        const SUPABASE_URL = 'https://oxoyiqeyuhnudkexnhpa.supabase.co';
        const SUPABASE_ANON_KEY = 'sb_publishable_h0JmEF4dLBJ80tr710mwsQ_hwN2g71S';
        const DISCORD_WEBHOOK_URL = 'https://discord.com/api/webhooks/1455692458733080808/EXt-DQQHQBwhQ0FGlG95PRLnOClGYpYUpyS8V0AV1QsPFv4v1W5NmqyuCxybA1lcieX6';

        class WiFiBillingSystem {
            constructor() {
                this.currentLang = localStorage.getItem('wifi_lang') || 'bn';
                this.currentTheme = localStorage.getItem('wifi_theme') || 'light';
                this.selectedPlan = 'basic';
                this.formData = {};
                this.currentUser = null;
                this.isLoggedIn = false;
                
                // Initialize Supabase Client
                try {
                    if (typeof supabase !== 'undefined') {
                        this.supabaseClient = supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);
                        console.log('‚úÖ Supabase client initialized');
                    } else {
                        console.error('‚ùå Supabase library not loaded');
                        this.showNotification('‡¶∏‡¶ø‡¶∏‡ßç‡¶ü‡ßá‡¶Æ ‡¶≤‡ßã‡¶° ‡¶π‡¶§‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶π‡¶ö‡ßç‡¶õ‡ßá', 'error');
                    }
                } catch (error) {
                    console.error('‚ùå Supabase init error:', error);
                }
            }
            
            async init() {
                console.log('üöÄ WiFi System initializing...');
                
                // Test Supabase connection
                try {
                    const connected = await this.testSupabaseConnection();
                    if (!connected) {
                        this.showNotification('‡¶°‡¶æ‡¶ü‡¶æ‡¶¨‡ßá‡¶∏ ‡¶ï‡¶æ‡¶®‡ßá‡¶ï‡¶∂‡¶® ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ', 'warning');
                    }
                } catch (error) {
                    console.warn('‚ö†Ô∏è Supabase connection test failed:', error);
                }
                
                await this.setupEventListeners();
                await this.loadLanguage();
                this.applyTheme(this.currentTheme);
                this.updateFormPlaceholders();
                this.updateActiveButtons();
                
                // Check if user is already logged in
                const loggedInUser = this.getLoggedInUser();
                if (loggedInUser && window.location.hash === '#userPanel') {
                    await this.showDashboard(loggedInUser);
                }
                
                console.log('‚úÖ WiFi System ready!');
            }
            
            async setupEventListeners() {
                console.log('üîß Setting up event listeners...');
                
                // Language switcher
                document.getElementById('langBn')?.addEventListener('click', (e) => {
                    e.preventDefault();
                    this.setLanguage('bn');
                });
                
                document.getElementById('langEn')?.addEventListener('click', (e) => {
                    e.preventDefault();
                    this.setLanguage('en');
                });
                
                // Theme switcher
                document.getElementById('themeLight')?.addEventListener('click', (e) => {
                    e.preventDefault();
                    this.setTheme('light');
                });
                
                document.getElementById('themeDark')?.addEventListener('click', (e) => {
                    e.preventDefault();
                    this.setTheme('dark');
                });
                
                // Plan selection
                document.querySelector('.select-plan')?.addEventListener('click', (e) => {
                    e.preventDefault();
                    this.selectedPlan = 'basic';
                    this.scrollToForm();
                });
                
                // Payment method selection
                document.querySelectorAll('.method').forEach(method => {
                    method.addEventListener('click', (e) => {
                        e.preventDefault();
                        const paymentMethod = method.getAttribute('data-method');
                        const selectElement = document.getElementById('paymentMethod');
                        if (selectElement) {
                            selectElement.value = paymentMethod;
                        }
                        this.highlightSelectedMethod(paymentMethod);
                    });
                });
                
                // Registration Form submission
                document.getElementById('registrationForm')?.addEventListener('submit', (e) => this.handleRegistration(e));
                
                // Promo code login
                document.getElementById('promoLoginFormElement')?.addEventListener('submit', (e) => this.handlePromoLogin(e));
                
                // Logout button
                document.getElementById('logoutBtn')?.addEventListener('click', (e) => {
                    e.preventDefault();
                    this.handleLogout();
                });
                
                // Add device button
                document.getElementById('addDeviceBtn')?.addEventListener('click', (e) => {
                    e.preventDefault();
                    this.showAddDeviceModal();
                });
                
                // Modal close buttons
                document.querySelectorAll('.close-modal').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        e.preventDefault();
                        this.closeModals();
                    });
                });
                
                // Add device form
                document.getElementById('addDeviceForm')?.addEventListener('submit', (e) => this.handleAddDevice(e));
                
                console.log('‚úÖ All event listeners set up');
            }
            
            // ==================== LANGUAGE & THEME SYSTEM ====================
            
            getEmbeddedTranslations(lang) {
                const translations = {
                    // Site Info
                    'site_name': lang === 'bn' ? '‡¶Ü‡¶≤‡ßç‡¶ü‡ßç‡¶∞‡¶æ ‡¶ì‡¶Ø‡¶º‡¶æ‡¶á‡¶´‡¶æ‡¶á' : 'Ultra WiFi',
                    'hero_title': lang === 'bn' ? '‚ö° ‡¶Ü‡¶≤‡ßç‡¶ü‡ßç‡¶∞‡¶æ ‡¶´‡¶æ‡¶∏‡ßç‡¶ü ‡¶ì‡¶Ø‡¶º‡¶æ‡¶á‡¶´‡¶æ‡¶á ‡¶á‡¶®‡ßç‡¶ü‡¶æ‡¶∞‡¶®‡ßá‡¶ü' : '‚ö° Ultra Fast WiFi Internet',
                    'hero_subtitle': lang === 'bn' ? '‡ß®‡ß™/‡ß≠ ‡ßß‡ß¶‡ß¶% ‡¶Ü‡¶™‡¶ü‡¶æ‡¶á‡¶Æ ‡¶ó‡ßç‡¶Ø‡¶æ‡¶∞‡¶æ‡¶®‡ßç‡¶ü‡¶ø ‡¶∏‡¶π ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶¶‡ßá‡¶∂‡ßá‡¶∞ ‡¶∏‡ßá‡¶∞‡¶æ ‡¶π‡¶æ‡¶á-‡¶∏‡ßç‡¶™‡¶ø‡¶° ‡¶ì‡¶Ø‡¶º‡¶æ‡¶á‡¶´‡¶æ‡¶á ‡¶∏‡¶æ‡¶∞‡ßç‡¶≠‡¶ø‡¶∏' : 'Bangladesh\'s best high-speed WiFi service with 24/7 100% uptime guarantee',
                    
                    // Navigation
                    'view_plans': lang === 'bn' ? '‡¶™‡ßç‡¶≤‡ßç‡¶Ø‡¶æ‡¶® ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®' : 'View Plans',
                    'register_now': lang === 'bn' ? '‡¶è‡¶ñ‡¶®‡¶á ‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®' : 'Register Now',
                    'light_mode': lang === 'bn' ? '‡¶¶‡¶ø‡¶®' : 'Light',
                    'dark_mode': lang === 'bn' ? '‡¶∞‡¶æ‡¶§' : 'Dark',
                    
                    // Features
                    'our_features': lang === 'bn' ? '‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶¨‡¶ø‡¶∂‡ßá‡¶∑ ‡¶∏‡ßÅ‡¶¨‡¶ø‡¶ß‡¶æ‡¶∏‡¶Æ‡ßÇ‡¶π' : 'Our Features',
                    'feature_uptime': lang === 'bn' ? '‡ß®‡ß™/‡ß≠ ‡ßß‡ß¶‡ß¶% ‡¶Ü‡¶™‡¶ü‡¶æ‡¶á‡¶Æ' : '24/7 100% Uptime',
                    'feature_uptime_desc': lang === 'bn' ? '‡¶¨‡¶ø‡¶¶‡ßç‡¶Ø‡ßÅ‡ßé ‡¶ö‡¶≤‡ßá ‡¶ó‡ßá‡¶≤‡ßá‡¶ì ‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶Ü‡¶™ ‡¶∏‡¶ø‡¶∏‡ßç‡¶ü‡ßá‡¶Æ‡ßá ‡ß®‡ß™ ‡¶ò‡¶£‡ßç‡¶ü‡¶æ ‡¶∏‡¶æ‡¶∞‡ßç‡¶≠‡¶ø‡¶∏' : '24-hour service with our backup system even during power outages',
                    'feature_speed': lang === 'bn' ? '‡ß´‡ß¶‡ß¶ Mbps ‡¶∏‡ßç‡¶™‡¶ø‡¶°' : '500 Mbps Speed',
                    'feature_speed_desc': lang === 'bn' ? '‡ß™K ‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡¶ø‡¶Æ‡¶ø‡¶Ç, ‡¶ó‡ßá‡¶Æ‡¶ø‡¶Ç, ‡¶°‡¶æ‡¶â‡¶®‡¶≤‡ßã‡¶° - ‡¶∏‡¶¨‡¶ï‡¶ø‡¶õ‡ßÅ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶™‡¶æ‡¶∞‡¶´‡ßá‡¶ï‡ßç‡¶ü ‡¶∏‡ßç‡¶™‡¶ø‡¶°' : 'Perfect speed for 4K streaming, gaming, downloads - everything',
                    'feature_gaming': lang === 'bn' ? '‡¶ó‡ßá‡¶Æ‡¶ø‡¶Ç ‡¶Ö‡¶™‡¶ü‡¶ø‡¶Æ‡¶æ‡¶á‡¶ú‡¶°' : 'Gaming Optimized',
                    'feature_gaming_desc': lang === 'bn' ? 'Valorant, Steam, Fivem, Epic Games - ‡¶∏‡¶¨ ‡¶ó‡ßá‡¶Æ‡ßá ‡¶≤‡ßã ‡¶≤‡ßá‡¶ü‡ßá‡¶®‡ßç‡¶∏‡¶ø' : 'Valorant, Steam, Fivem, Epic Games - low latency in all games',
                    'feature_streaming': lang === 'bn' ? '‡ß™K ‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡¶ø‡¶Æ‡¶ø‡¶Ç' : '4K Streaming',
                    'feature_streaming_desc': lang === 'bn' ? 'Netflix, YouTube, Amazon Prime - ‡¶¨‡¶æ‡¶´‡¶æ‡¶∞‡¶ø‡¶Ç ‡¶õ‡¶æ‡¶°‡¶º‡¶æ ‡ß™K ‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡¶ø‡¶Æ‡¶ø‡¶Ç' : 'Netflix, YouTube, Amazon Prime - 4K streaming without buffering',
                    'feature_ftp': lang === 'bn' ? '‡¶Æ‡ßÅ‡¶≠‡¶ø ‡¶∏‡¶æ‡¶∞‡ßç‡¶≠‡¶æ‡¶∞' : 'Movie Server',
                    'feature_ftp_desc': lang === 'bn' ? '‡¶è‡¶ï‡ßç‡¶∏‡¶ï‡ßç‡¶≤‡ßÅ‡¶∏‡¶ø‡¶≠ HD ‡¶Æ‡ßÅ‡¶≠‡¶ø ‡¶∏‡¶æ‡¶∞‡ßç‡¶≠‡¶æ‡¶∞ - ‡¶∏‡¶ø‡¶®‡ßá‡¶Æ‡¶æ ‡¶¶‡ßá‡¶ñ‡¶æ‡¶∞ ‡¶¨‡¶ø‡¶∂‡ßá‡¶∑ ‡¶∏‡ßÅ‡¶¨‡¶ø‡¶ß‡¶æ' : 'Exclusive HD movie server - special benefit for watching movies',
                    'feature_cdn': lang === 'bn' ? 'CDN ‡¶è‡¶ï‡ßç‡¶∏‡ßá‡¶≤‡¶æ‡¶∞‡ßá‡¶∂‡¶®' : 'CDN Acceleration',
                    'feature_cdn_desc': lang === 'bn' ? '‡¶ú‡¶®‡¶™‡ßç‡¶∞‡¶ø‡¶Ø‡¶º ‡¶∏‡¶æ‡¶∞‡ßç‡¶≠‡¶æ‡¶∞‡ßá ‡ßß‡ß¶x ‡¶∏‡ßç‡¶™‡¶ø‡¶°, ‡¶ï‡¶®‡¶ü‡ßá‡¶®‡ßç‡¶ü ‡¶°‡ßá‡¶≤‡¶ø‡¶≠‡¶æ‡¶∞‡¶ø ‡¶®‡ßá‡¶ü‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶ï' : '10x speed on popular servers, content delivery network',
                    
                    // Pricing
                    'pricing_plans': lang === 'bn' ? '‡¶™‡ßç‡¶Ø‡¶æ‡¶ï‡ßá‡¶ú ‡¶ì ‡¶Æ‡ßÇ‡¶≤‡ßç‡¶Ø' : 'Packages & Pricing',
                    'basic_plan': lang === 'bn' ? '‡¶¨‡ßá‡¶∏‡¶ø‡¶ï ‡¶™‡ßç‡¶≤‡ßç‡¶Ø‡¶æ‡¶®' : 'Basic Plan',
                    'bdt': lang === 'bn' ? '‡¶ü‡¶æ‡¶ï‡¶æ/‡¶Æ‡¶æ‡¶∏' : 'BDT/Month',
                    'plan_device': lang === 'bn' ? '‡ßß‡¶ü‡¶ø ‡¶°‡¶ø‡¶≠‡¶æ‡¶á‡¶∏' : '1 Device',
                    'plan_unlimited': lang === 'bn' ? '‡¶Ü‡¶®‡¶≤‡¶ø‡¶Æ‡¶ø‡¶ü‡ßá‡¶° ‡¶°‡ßá‡¶ü‡¶æ' : 'Unlimited Data',
                    'plan_speed': lang === 'bn' ? '‡ß´‡ß¶‡ß¶ Mbps ‡¶∏‡ßç‡¶™‡¶ø‡¶°' : '500 Mbps Speed',
                    'plan_ftp': lang === 'bn' ? '‡¶Æ‡ßÅ‡¶≠‡¶ø ‡¶∏‡¶æ‡¶∞‡ßç‡¶≠‡¶æ‡¶∞ ‡¶è‡¶ï‡ßç‡¶∏‡ßá‡¶∏' : 'Movie Server Access',
                    'plan_support': lang === 'bn' ? '‡ß®‡ß™/‡ß≠ ‡¶∏‡¶æ‡¶™‡ßã‡¶∞‡ßç‡¶ü' : '24/7 Support',
                    'select_plan': lang === 'bn' ? '‡¶∏‡¶ø‡¶≤‡ßá‡¶ï‡ßç‡¶ü ‡¶™‡ßç‡¶≤‡ßç‡¶Ø‡¶æ‡¶®' : 'Select Plan',
                    
                    // Payment Methods
                    'payment_methods': lang === 'bn' ? '‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶™‡¶¶‡ßç‡¶ß‡¶§‡¶ø' : 'Payment Methods',
                    'bkash': lang === 'bn' ? '‡¶¨‡¶ø‡¶ï‡¶æ‡¶∂' : 'bKash',
                    'nagad': lang === 'bn' ? '‡¶®‡¶ó‡¶¶' : 'Nagad',
                    'upay': lang === 'bn' ? '‡¶Ü‡¶™‡ßá' : 'Upay',
                    'rocket': lang === 'bn' ? '‡¶∞‡¶ï‡ßá‡¶ü' : 'Rocket',
                    
                    // Registration Form
                    'registration_form': lang === 'bn' ? '‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡ßá‡¶∂‡¶® ‡¶´‡¶∞‡ßç‡¶Æ' : 'Registration Form',
                    'full_name': lang === 'bn' ? '‡¶™‡ßÇ‡¶∞‡ßç‡¶£ ‡¶®‡¶æ‡¶Æ *' : 'Full Name *',
                    'phone_number': lang === 'bn' ? '‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤ ‡¶®‡¶æ‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞ *' : 'Phone Number *',
                    'phone_hint': lang === 'bn' ? 'WhatsApp ‡¶è ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶™‡¶æ‡¶†‡¶æ‡¶®‡ßã‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø' : 'For sending password via WhatsApp',
                    'email_address': lang === 'bn' ? '‡¶á‡¶Æ‡ßá‡¶á‡¶≤ ‡¶†‡¶ø‡¶ï‡¶æ‡¶®‡¶æ' : 'Email Address',
                    'email_hint': lang === 'bn' ? '‡¶ê‡¶ö‡ßç‡¶õ‡¶ø‡¶ï - ‡¶á‡¶Æ‡ßá‡¶á‡¶≤‡ßá‡¶ì ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶™‡¶æ‡¶†‡¶æ‡¶®‡ßã ‡¶π‡¶¨‡ßá' : 'Optional - password will also be sent to email',
                    'payment_method': lang === 'bn' ? '‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶Æ‡ßá‡¶•‡¶° *' : 'Payment Method *',
                    'select_method': lang === 'bn' ? '‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶Æ‡ßá‡¶•‡¶° ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®' : 'Select Payment Method',
                    'transaction_id': lang === 'bn' ? '‡¶ü‡ßç‡¶∞‡¶æ‡¶®‡¶ú‡ßá‡¶ï‡¶∂‡¶® ‡¶Ü‡¶á‡¶°‡¶ø *' : 'Transaction ID *',
                    'sender_number': lang === 'bn' ? '‡¶∏‡ßá‡¶®‡ßç‡¶°‡¶æ‡¶∞ ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞ *' : 'Sender Number *',
                    'terms_text': lang === 'bn' ? '‡¶Ü‡¶Æ‡¶ø ‡ßß‡ß´‡ß¶ ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶™‡¶æ‡¶†‡¶ø‡¶Ø‡¶º‡ßá‡¶õ‡¶ø ‡¶è‡¶¨‡¶Ç ‡¶∏‡¶Æ‡¶∏‡ßç‡¶§ ‡¶∂‡¶∞‡ßç‡¶§ ‡¶Æ‡ßá‡¶®‡ßá ‡¶®‡¶ø‡¶ö‡ßç‡¶õ‡¶ø‡•§ ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶≠‡ßá‡¶∞‡¶ø‡¶´‡¶æ‡¶á ‡¶π‡¶≤‡ßá WhatsApp/‡¶á‡¶Æ‡ßá‡¶á‡¶≤‡ßá ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶™‡¶æ‡¶¨‡ßã‡•§' : 'I have sent 150 BDT and agree to all terms. Will receive password via WhatsApp/Email after payment verification.',
                    'submit_form': lang === 'bn' ? '‡¶∏‡¶æ‡¶¨‡¶Æ‡¶ø‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®' : 'Submit Form',
                    'payment_steps': lang === 'bn' ? '‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶®‡¶ø‡¶Ø‡¶º‡¶Æ' : 'Payment Steps',
                    'step1': lang === 'bn' ? '‡¶¨‡¶ø‡¶ï‡¶æ‡¶∂/‡¶®‡¶ó‡¶¶/‡¶Ü‡¶™‡ßá/‡¶∞‡¶ï‡ßá‡¶ü ‡¶è ‡ßß‡ß´‡ß¶ ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶™‡¶æ‡¶†‡¶æ‡¶®' : 'Send 150 BDT via bKash/Nagad/Upay/Rocket',
                    'step2': lang === 'bn' ? '‡¶®‡¶ø‡¶ö‡ßá‡¶∞ ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞‡ßá ‡¶™‡¶æ‡¶†‡¶æ‡¶®: <strong>01XXX-XXXXXX</strong>' : 'Send to: <strong>01XXX-XXXXXX</strong>',
                    'step3': lang === 'bn' ? '‡¶ü‡ßç‡¶∞‡¶æ‡¶®‡¶ú‡ßá‡¶ï‡¶∂‡¶® ‡¶Ü‡¶á‡¶°‡¶ø ‡¶®‡ßã‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®' : 'Note the Transaction ID',
                    'step4': lang === 'bn' ? '‡¶â‡¶™‡¶∞‡ßá‡¶∞ ‡¶´‡¶∞‡ßç‡¶Æ ‡¶™‡ßÇ‡¶∞‡¶£ ‡¶ï‡¶∞‡ßÅ‡¶®' : 'Fill the form above',
                    'step5': lang === 'bn' ? '‡¶Ü‡¶Æ‡¶∞‡¶æ ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶≠‡ßá‡¶∞‡¶ø‡¶´‡¶æ‡¶á ‡¶ï‡¶∞‡¶¨' : 'We will verify payment',
                    'step6': lang === 'bn' ? 'WhatsApp/‡¶á‡¶Æ‡ßá‡¶á‡¶≤‡ßá ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶™‡¶æ‡¶¨‡ßá‡¶®' : 'Receive password via WhatsApp/Email',
                    'contact_us': lang === 'bn' ? '‡¶Ø‡ßã‡¶ó‡¶æ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®' : 'Contact Us',
                    'whatsapp': lang === 'bn' ? 'WhatsApp:' : 'WhatsApp:',
                    'email': lang === 'bn' ? '‡¶á‡¶Æ‡ßá‡¶á‡¶≤:' : 'Email:',
                    
                    // User Panel
                    'user_panel': lang === 'bn' ? '‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶™‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶≤' : 'User Panel',
                    'promo_login': lang === 'bn' ? '‡¶™‡ßç‡¶∞‡ßã‡¶Æ‡ßã ‡¶ï‡ßã‡¶° ‡¶¶‡¶ø‡ßü‡ßá ‡¶≤‡¶ó‡¶á‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®' : 'Login with Promo Code',
                    'promo_login_desc': lang === 'bn' ? '‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡ßá‡¶∂‡¶®‡ßá‡¶∞ ‡¶™‡¶∞ WhatsApp/‡¶á‡¶Æ‡ßá‡¶á‡¶≤‡ßá ‡¶™‡ßç‡¶∞‡¶æ‡¶™‡ßç‡¶§ ‡¶™‡ßç‡¶∞‡ßã‡¶Æ‡ßã ‡¶ï‡ßã‡¶°‡¶ü‡¶ø ‡¶¶‡¶ø‡¶®' : 'Enter the promo code received via WhatsApp/Email after registration',
                    'promo_hint': lang === 'bn' ? '‡¶Ø‡ßá‡¶Æ‡¶®: ULTRA-XXXX-XXXX' : 'e.g., ULTRA-XXXX-XXXX',
                    'login': lang === 'bn' ? '‡¶≤‡¶ó‡¶á‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®' : 'Login',
                    'promo_help': lang === 'bn' ? '‡¶™‡ßç‡¶∞‡ßã‡¶Æ‡ßã ‡¶ï‡ßã‡¶° ‡¶™‡¶æ‡¶®‡¶®‡¶ø? ‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ WhatsApp ‡¶¨‡¶æ ‡¶á‡¶Æ‡ßá‡¶á‡¶≤‡ßá ‡¶Ø‡ßã‡¶ó‡¶æ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®' : 'Didn\'t receive promo code? Contact us on WhatsApp or Email',
                    'logout': lang === 'bn' ? '‡¶≤‡¶ó‡¶Ü‡¶â‡¶ü' : 'Logout',
                    'user_id': lang === 'bn' ? '‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶Ü‡¶á‡¶°‡¶ø:' : 'User ID:',
                    'package_info': lang === 'bn' ? '‡¶™‡ßç‡¶Ø‡¶æ‡¶ï‡ßá‡¶ú ‡¶§‡¶•‡ßç‡¶Ø' : 'Package Info',
                    'plan_type': lang === 'bn' ? '‡¶™‡ßç‡¶≤‡ßç‡¶Ø‡¶æ‡¶® ‡¶ü‡¶æ‡¶á‡¶™:' : 'Plan Type:',
                    'devices_allowed': lang === 'bn' ? '‡¶Ö‡¶®‡ßÅ‡¶Æ‡ßã‡¶¶‡¶ø‡¶§ ‡¶°‡¶ø‡¶≠‡¶æ‡¶á‡¶∏:' : 'Allowed Devices:',
                    'devices_used': lang === 'bn' ? '‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡ßÉ‡¶§ ‡¶°‡¶ø‡¶≠‡¶æ‡¶á‡¶∏:' : 'Used Devices:',
                    'payment_info': lang === 'bn' ? '‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶§‡¶•‡ßç‡¶Ø' : 'Payment Info',
                    'registration_date': lang === 'bn' ? '‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡ßá‡¶∂‡¶® ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ:' : 'Registration Date:',
                    'last_payment': lang === 'bn' ? '‡¶∏‡¶∞‡ßç‡¶¨‡¶∂‡ßá‡¶∑ ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü:' : 'Last Payment:',
                    'next_payment': lang === 'bn' ? '‡¶™‡¶∞‡¶¨‡¶∞‡ßç‡¶§‡ßÄ ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü:' : 'Next Payment:',
                    'payment_status': lang === 'bn' ? '‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∏:' : 'Status:',
                    'connection_info': lang === 'bn' ? '‡¶ï‡¶æ‡¶®‡ßá‡¶ï‡¶∂‡¶® ‡¶§‡¶•‡ßç‡¶Ø' : 'Connection Info',
                    'wifi_name': lang === 'bn' ? 'WiFi ‡¶®‡¶æ‡¶Æ:' : 'WiFi Name:',
                    'speed': lang === 'bn' ? '‡¶∏‡ßç‡¶™‡¶ø‡¶°:' : 'Speed:',
                    'uptime': lang === 'bn' ? '‡¶Ü‡¶™‡¶ü‡¶æ‡¶á‡¶Æ:' : 'Uptime:',
                    'movie_server': lang === 'bn' ? '‡¶Æ‡ßÅ‡¶≠‡¶ø ‡¶∏‡¶æ‡¶∞‡ßç‡¶≠‡¶æ‡¶∞' : 'Movie Server',
                    'device_management': lang === 'bn' ? '‡¶°‡¶ø‡¶≠‡¶æ‡¶á‡¶∏ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶∏‡ßç‡¶•‡¶æ‡¶™‡¶®‡¶æ' : 'Device Management',
                    'add_device': lang === 'bn' ? '‡¶®‡¶§‡ßÅ‡¶® ‡¶°‡¶ø‡¶≠‡¶æ‡¶á‡¶∏ ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®' : 'Add New Device',
                    'add_new_device': lang === 'bn' ? '‡¶®‡¶§‡ßÅ‡¶® ‡¶°‡¶ø‡¶≠‡¶æ‡¶á‡¶∏ ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®' : 'Add New Device',
                    'device_name': lang === 'bn' ? '‡¶°‡¶ø‡¶≠‡¶æ‡¶á‡¶∏‡ßá‡¶∞ ‡¶®‡¶æ‡¶Æ' : 'Device Name',
                    'device_type': lang === 'bn' ? '‡¶°‡¶ø‡¶≠‡¶æ‡¶á‡¶∏ ‡¶ü‡¶æ‡¶á‡¶™' : 'Device Type',
                    'mobile_phone': lang === 'bn' ? '‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤ ‡¶´‡ßã‡¶®' : 'Mobile Phone',
                    'laptop': lang === 'bn' ? '‡¶≤‡ßç‡¶Ø‡¶æ‡¶™‡¶ü‡¶™' : 'Laptop',
                    'desktop_pc': lang === 'bn' ? '‡¶°‡ßá‡¶∏‡ßç‡¶ï‡¶ü‡¶™ ‡¶™‡¶ø‡¶∏‡¶ø' : 'Desktop PC',
                    'tablet': lang === 'bn' ? '‡¶ü‡ßç‡¶Ø‡¶æ‡¶¨‡¶≤‡ßá‡¶ü' : 'Tablet',
                    'smart_tv': lang === 'bn' ? '‡¶∏‡ßç‡¶Æ‡¶æ‡¶∞‡ßç‡¶ü ‡¶ü‡¶ø‡¶≠‡¶ø' : 'Smart TV',
                    
                    // Footer
                    'footer_text': lang === 'bn' ? '‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶¶‡ßá‡¶∂‡ßá‡¶∞ ‡¶∏‡ßá‡¶∞‡¶æ ‡¶π‡¶æ‡¶á-‡¶∏‡ßç‡¶™‡¶ø‡¶° ‡¶ì‡¶Ø‡¶º‡¶æ‡¶á‡¶´‡¶æ‡¶á ‡¶∏‡¶æ‡¶∞‡ßç‡¶≠‡¶ø‡¶∏ ‡¶™‡ßç‡¶∞‡ßã‡¶≠‡¶æ‡¶á‡¶°‡¶æ‡¶∞' : 'Bangladesh\'s Best High-Speed WiFi Service Provider',
                    'features': lang === 'bn' ? '‡¶´‡¶ø‡¶ö‡¶æ‡¶∞‡¶∏' : 'Features',
                    'pricing': lang === 'bn' ? '‡¶Æ‡ßÇ‡¶≤‡ßç‡¶Ø' : 'Pricing',
                    'register': lang === 'bn' ? '‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡¶æ‡¶∞' : 'Register',
                    'copyright': lang === 'bn' ? '¬© ‡ß®‡ß¶‡ß®‡ß™ ‡¶Ü‡¶≤‡ßç‡¶ü‡ßç‡¶∞‡¶æ ‡¶ì‡¶Ø‡¶º‡¶æ‡¶á‡¶´‡¶æ‡¶á‡•§ ‡¶∏‡¶∞‡ßç‡¶¨‡¶∏‡ßç‡¶¨‡¶§‡ßç‡¶¨ ‡¶∏‡¶Ç‡¶∞‡¶ï‡ßç‡¶∑‡¶ø‡¶§‡•§' : '¬© 2024 Ultra WiFi. All rights reserved.',
                    
                    // Modals
                    'success_title': lang === 'bn' ? '‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶∏‡¶æ‡¶¨‡¶Æ‡¶ø‡¶ü ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!' : 'Submitted Successfully!',
                    'success_message': lang === 'bn' ? '‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶´‡¶∞‡ßç‡¶Æ ‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶ú‡¶Æ‡¶æ ‡¶¶‡ßá‡¶ì‡¶Ø‡¶º‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá‡•§ ‡¶Ü‡¶Æ‡¶∞‡¶æ ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶≠‡ßá‡¶∞‡¶ø‡¶´‡¶æ‡¶á ‡¶ï‡¶∞‡ßá WhatsApp/‡¶á‡¶Æ‡ßá‡¶á‡¶≤‡ßá ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶™‡¶æ‡¶†‡¶æ‡¶¨‡ßã‡•§ ‡ß®‡ß™ ‡¶ò‡¶£‡ßç‡¶ü‡¶æ‡¶∞ ‡¶Æ‡¶ß‡ßç‡¶Ø‡ßá ‡¶™‡ßá‡¶Ø‡¶º‡ßá ‡¶Ø‡¶æ‡¶¨‡ßá‡¶®‡•§' : 'Your form has been submitted successfully. We will verify payment and send password via WhatsApp/Email. You will receive within 24 hours.',
                    'error_title': lang === 'bn' ? '‡¶§‡ßç‡¶∞‡ßÅ‡¶ü‡¶ø ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!' : 'Error Occurred!',
                    'error_message': lang === 'bn' ? '‡¶∏‡¶æ‡¶¨‡¶Æ‡¶ø‡¶ü ‡¶ï‡¶∞‡¶§‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶π‡¶ö‡ßç‡¶õ‡ßá‡•§ ‡¶Ö‡¶®‡ßÅ‡¶ó‡ßç‡¶∞‡¶π ‡¶ï‡¶∞‡ßá ‡¶™‡¶∞‡ßá ‡¶Ü‡¶¨‡¶æ‡¶∞ ‡¶ö‡ßá‡¶∑‡ßç‡¶ü‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§' : 'Problem submitting. Please try again later.',
                    'close_modal': lang === 'bn' ? '‡¶†‡¶ø‡¶ï ‡¶Ü‡¶õ‡ßá' : 'OK',
                    
                    // Status
                    'active': lang === 'bn' ? '‡¶è‡¶ï‡¶ü‡¶ø‡¶≠' : 'Active',
                    'expired': lang === 'bn' ? '‡¶Æ‡ßá‡¶Ø‡¶º‡¶æ‡¶¶‡ßã‡¶§‡ßç‡¶§‡ßÄ‡¶∞‡ßç‡¶£' : 'Expired',
                    
                    // Loading
                    'processing': lang === 'bn' ? '‡¶™‡ßç‡¶∞‡¶∏‡ßá‡¶∏‡¶ø‡¶Ç ‡¶π‡¶ö‡ßç‡¶õ‡ßá...' : 'Processing...'
                };
                
                return translations;
            }
            
            async loadLanguage() {
                console.log('üåê Loading language:', this.currentLang);
                
                try {
                    this.translations = this.getEmbeddedTranslations(this.currentLang);
                    this.updatePageContent();
                    this.updateActiveButtons();
                    
                } catch (error) {
                    console.error('Language load error:', error);
                }
            }
            
            updatePageContent() {
                if (!this.translations) {
                    console.error('No translations available');
                    return;
                }
                
                document.querySelectorAll('[data-i18n]').forEach(element => {
                    const key = element.getAttribute('data-i18n');
                    if (this.translations[key]) {
                        if (element.tagName === 'INPUT' && (element.type === 'submit' || element.type === 'button')) {
                            element.value = this.translations[key];
                        } else {
                            element.textContent = this.translations[key];
                        }
                    } else {
                        console.warn(`Translation key not found: ${key}`);
                    }
                });
                
                document.documentElement.lang = this.currentLang;
                this.updateFormPlaceholders();
                this.updateSwitcherText();
                
                console.log('‚úÖ Page content updated');
            }
            
            updateSwitcherText() {
                const langBnBtn = document.getElementById('langBn');
                const langEnBtn = document.getElementById('langEn');
                
                if (langBnBtn && langEnBtn) {
                    if (this.currentLang === 'bn') {
                        langBnBtn.querySelector('.lang-text').textContent = '‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ';
                        langEnBtn.querySelector('.lang-text').textContent = 'English';
                    } else {
                        langBnBtn.querySelector('.lang-text').textContent = 'Bangla';
                        langEnBtn.querySelector('.lang-text').textContent = 'English';
                    }
                }
            }
            
            setLanguage(lang) {
                if (lang === this.currentLang) {
                    console.log('Language already set to:', lang);
                    return;
                }
                
                console.log(`üåê Setting language to: ${lang}`);
                
                this.currentLang = lang;
                localStorage.setItem('wifi_lang', lang);
                
                document.documentElement.style.opacity = '0.7';
                setTimeout(async () => {
                    await this.loadLanguage();
                    this.updateActiveButtons();
                    document.documentElement.style.opacity = '1';
                    
                    this.showNotification(
                        lang === 'bn' ? 'üåê ‡¶≠‡¶æ‡¶∑‡¶æ ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶® ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá' : 'üåê Language changed',
                        'success'
                    );
                }, 300);
            }
            
            setTheme(theme) {
                if (theme === this.currentTheme) {
                    console.log('Theme already set to:', theme);
                    return;
                }
                
                console.log(`üé® Setting theme to: ${theme}`);
                
                this.currentTheme = theme;
                localStorage.setItem('wifi_theme', theme);
                
                document.body.style.opacity = '0.7';
                document.body.style.transition = 'opacity 0.3s ease';
                
                setTimeout(() => {
                    this.applyTheme(theme);
                    this.updateActiveButtons();
                    
                    document.body.style.opacity = '1';
                    
                    this.showNotification(
                        theme === 'light' ? '‚òÄÔ∏è ‡¶≤‡¶æ‡¶á‡¶ü ‡¶Æ‡ßã‡¶°' : 'üåô ‡¶°‡¶æ‡¶∞‡ßç‡¶ï ‡¶Æ‡ßã‡¶°',
                        'success'
                    );
                }, 300);
            }
            
            applyTheme(theme) {
                document.body.setAttribute('data-theme', theme);
                
                const themeLightIcon = document.querySelector('#themeLight i');
                const themeDarkIcon = document.querySelector('#themeDark i');
                
                if (themeLightIcon && themeDarkIcon) {
                    if (theme === 'light') {
                        themeLightIcon.className = 'fas fa-sun';
                        themeDarkIcon.className = 'fas fa-moon';
                    } else {
                        themeLightIcon.className = 'fas fa-sun';
                        themeDarkIcon.className = 'fas fa-moon';
                    }
                }
            }
            
            updateActiveButtons() {
                console.log('üîÑ Updating active buttons...');
                
                // Language buttons
                const langBnBtn = document.getElementById('langBn');
                const langEnBtn = document.getElementById('langEn');
                
                if (langBnBtn && langEnBtn) {
                    langBnBtn.classList.toggle('active', this.currentLang === 'bn');
                    langEnBtn.classList.toggle('active', this.currentLang === 'en');
                }
                
                // Theme buttons
                const themeLightBtn = document.getElementById('themeLight');
                const themeDarkBtn = document.getElementById('themeDark');
                
                if (themeLightBtn && themeDarkBtn) {
                    themeLightBtn.classList.toggle('active', this.currentTheme === 'light');
                    themeDarkBtn.classList.toggle('active', this.currentTheme === 'dark');
                }
                
                console.log('‚úÖ Active buttons updated');
            }
            
            updateFormPlaceholders() {
                document.querySelectorAll('[data-placeholder-bn]').forEach(input => {
                    const placeholder = this.currentLang === 'bn' 
                        ? input.getAttribute('data-placeholder-bn')
                        : input.getAttribute('data-placeholder-en');
                    
                    if (placeholder) {
                        input.placeholder = placeholder;
                    }
                });
            }
            
            // ==================== SUPABASE INTEGRATION ====================
            
            async testSupabaseConnection() {
                if (!this.supabaseClient) {
                    console.error('‚ùå Supabase client not initialized');
                    return false;
                }
                
                try {
                    const { data, error } = await this.supabaseClient
                        .from('wifi_users')
                        .select('count')
                        .limit(1);
                    
                    if (error) {
                        console.error('‚ùå Supabase connection error:', error);
                        return false;
                    }
                    
                    console.log('‚úÖ Supabase connection successful');
                    return true;
                } catch (error) {
                    console.error('‚ùå Connection test failed:', error);
                    return false;
                }
            }
            
            async handleRegistration(e) {
                e.preventDefault();
                console.log('üìù Registration form submitting...');
                
                const formData = {
                    name: document.getElementById('name')?.value.trim() || '',
                    phone: document.getElementById('phone')?.value.trim() || '',
                    email: document.getElementById('email')?.value.trim() || '',
                    paymentMethod: document.getElementById('paymentMethod')?.value || '',
                    transactionId: document.getElementById('transactionId')?.value.trim() || '',
                    senderNumber: document.getElementById('senderNumber')?.value.trim() || '',
                    plan: this.selectedPlan
                };
                
                // Validation
                const errors = [];
                
                if (!formData.name) errors.push('‡¶®‡¶æ‡¶Æ ‡¶™‡ßç‡¶∞‡¶Ø‡¶º‡ßã‡¶ú‡¶®');
                if (!formData.phone || !/^01[3-9]\d{8}$/.test(formData.phone)) {
                    errors.push('‡¶∏‡¶†‡¶ø‡¶ï ‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤ ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞ ‡¶¶‡¶ø‡¶® (01XXXXXXXXX)');
                }
                if (!formData.paymentMethod) errors.push('‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶Æ‡ßá‡¶•‡¶° ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®');
                if (!formData.transactionId) errors.push('‡¶ü‡ßç‡¶∞‡¶æ‡¶®‡¶ú‡ßá‡¶ï‡¶∂‡¶® ‡¶Ü‡¶á‡¶°‡¶ø ‡¶¶‡¶ø‡¶®');
                if (!formData.senderNumber || !/^01[3-9]\d{8}$/.test(formData.senderNumber)) {
                    errors.push('‡¶∏‡¶†‡¶ø‡¶ï ‡¶∏‡ßá‡¶®‡ßç‡¶°‡¶æ‡¶∞ ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞ ‡¶¶‡¶ø‡¶®');
                }
                
                if (errors.length > 0) {
                    this.showNotification(
                        this.currentLang === 'bn' 
                            ? `‡¶§‡ßç‡¶∞‡ßÅ‡¶ü‡¶ø: ${errors.join(', ')}`
                            : `Error: ${errors.join(', ')}`,
                        'error'
                    );
                    return;
                }
                
                this.showLoading();
                
                try {
                    // Generate promo code
                    const promoCode = this.generatePromoCode(formData.phone);
                    const userData = this.createUserData(formData, promoCode);
                    
                    console.log('Generated user data:', userData);
                    
                    // Save to Supabase
                    const savedData = await this.saveToSupabase(userData);
                    
                    if (savedData) {
                        console.log('‚úÖ Data saved successfully:', savedData);
                        
                        // Send to Discord (optional)
                        if (DISCORD_WEBHOOK_URL) {
                            try {
                                await this.sendToDiscord(formData, promoCode);
                            } catch (discordError) {
                                console.warn('Discord send failed:', discordError);
                            }
                        }
                        
                        // Show success
                        this.showRegistrationSuccess(userData);
                        
                        // Reset form
                        document.getElementById('registrationForm').reset();
                    }
                    
                } catch (error) {
                    console.error('‚ùå Registration failed:', error);
                    
                    let errorMessage = '‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡ßá‡¶∂‡¶®‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá';
                    
                    if (error.message.includes('NetworkError') || error.message.includes('Failed to fetch')) {
                        errorMessage = '‡¶á‡¶®‡ßç‡¶ü‡¶æ‡¶∞‡¶®‡ßá‡¶ü ‡¶∏‡¶Ç‡¶Ø‡ßã‡¶ó ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ‡•§ ‡¶ö‡ßá‡¶ï ‡¶ï‡¶∞‡ßÅ‡¶®‡•§';
                    } else if (error.message.includes('duplicate key')) {
                        errorMessage = '‡¶è‡¶á ‡¶ü‡ßç‡¶∞‡¶æ‡¶®‡¶ú‡ßá‡¶ï‡¶∂‡¶® ‡¶Ü‡¶á‡¶°‡¶ø ‡¶¨‡¶æ ‡¶´‡ßã‡¶® ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞ ‡¶Ü‡¶ó‡ßá‡¶á ‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡¶æ‡¶∞‡ßç‡¶°';
                    } else if (error.code === '23505') {
                        errorMessage = '‡¶è‡¶á ‡¶™‡ßç‡¶∞‡ßã‡¶Æ‡ßã ‡¶ï‡ßã‡¶°‡¶ü‡¶ø ‡¶Ü‡¶ó‡ßá ‡¶•‡ßá‡¶ï‡ßá‡¶á ‡¶∞‡¶Ø‡¶º‡ßá‡¶õ‡ßá‡•§ ‡¶Ü‡¶¨‡¶æ‡¶∞ ‡¶ö‡ßá‡¶∑‡ßç‡¶ü‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§';
                    } else if (error.message.includes('relation "wifi_users" does not exist')) {
                        errorMessage = '‡¶ü‡ßá‡¶¨‡¶ø‡¶≤ ‡¶™‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ ‡¶Ø‡¶æ‡¶Ø‡¶º‡¶®‡¶ø‡•§ Supabase-‡¶è ‡¶ü‡ßá‡¶¨‡¶ø‡¶≤ ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡ßÅ‡¶®‡•§';
                    }
                    
                    this.showNotification(
                        this.currentLang === 'bn' ? `‚ùå ${errorMessage}` : `‚ùå ${errorMessage}`,
                        'error'
                    );
                    
                    // Save to localStorage as fallback
                    this.saveToLocalStorage(formData);
                    
                } finally {
                    this.hideLoading();
                }
            }
            
            generatePromoCode(phone) {
                const random = Math.random().toString(36).substr(2, 6).toUpperCase();
                const last4 = phone.slice(-4);
                return `ULTRA-${last4}-${random}`;
            }
            
            createUserData(formData, promoCode) {
                const now = new Date();
                const nextPayment = new Date();
                nextPayment.setMonth(nextPayment.getMonth() + 1);
                
                return {
                    promoCode: promoCode,
                    name: formData.name,
                    phone: formData.phone,
                    email: formData.email || '',
                    paymentMethod: formData.paymentMethod,
                    transactionId: formData.transactionId,
                    senderNumber: formData.senderNumber,
                    plan: 'basic',
                    wifiName: `ULTRA_WIFI_${formData.phone.slice(-4)}`,
                    devices: [],
                    registrationDate: now.toISOString(),
                    nextPaymentDate: nextPayment.toISOString(),
                    lastPaymentDate: now.toISOString(),
                    paymentStatus: 'pending'
                };
            }
            
            async saveToSupabase(userData) {
                if (!this.supabaseClient) {
                    throw new Error('Supabase client not initialized');
                }
                
                try {
                    const now = new Date().toISOString();
                    const nextPayment = new Date(Date.now() + 30 * 24 * 60 * 60 * 1000).toISOString();
                    
                    console.log('Inserting data to Supabase...');
                    
                    const { data, error } = await this.supabaseClient
                        .from('wifi_users')
                        .insert([
                            {
                                promo_code: userData.promoCode,
                                name: userData.name,
                                phone: userData.phone,
                                email: userData.email || null,
                                payment_method: userData.paymentMethod,
                                transaction_id: userData.transactionId,
                                sender_number: userData.senderNumber,
                                plan: userData.plan || 'basic',
                                registration_date: now,
                                next_payment_date: nextPayment,
                                last_payment_date: now,
                                payment_status: 'pending',
                                wifi_name: userData.wifiName,
                                devices: userData.devices || []
                            }
                        ])
                        .select()
                        .single();
                    
                    if (error) {
                        console.error('Supabase insert error:', error);
                        console.error('Error details:', {
                            code: error.code,
                            message: error.message,
                            details: error.details,
                            hint: error.hint
                        });
                        throw error;
                    }
                    
                    console.log('‚úÖ Data inserted successfully:', data);
                    return data;
                    
                } catch (error) {
                    console.error('‚ùå Save to Supabase failed:', error);
                    throw error;
                }
            }
            
            async sendToDiscord(formData, promoCode) {
                if (!DISCORD_WEBHOOK_URL || DISCORD_WEBHOOK_URL.includes('your-webhook-url')) {
                    console.warn('‚ö†Ô∏è Discord webhook not configured');
                    return false;
                }
                
                try {
                    const response = await fetch(DISCORD_WEBHOOK_URL, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({
                            embeds: [{
                                title: "üì° ‡¶®‡¶§‡ßÅ‡¶® ‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡ßá‡¶∂‡¶®",
                                color: 0x5865F2,
                                fields: [
                                    { name: "üë§ ‡¶®‡¶æ‡¶Æ", value: formData.name, inline: true },
                                    { name: "üì± ‡¶´‡ßã‡¶®", value: formData.phone, inline: true },
                                    { name: "üé´ ‡¶™‡ßç‡¶∞‡ßã‡¶Æ‡ßã ‡¶ï‡ßã‡¶°", value: `\`${promoCode}\``, inline: true },
                                    { name: "üí≥ ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü", value: formData.paymentMethod.toUpperCase(), inline: true },
                                    { name: "üî¢ ‡¶ü‡ßç‡¶∞‡¶æ‡¶®‡¶ú‡ßá‡¶ï‡¶∂‡¶®", value: formData.transactionId, inline: true },
                                    { name: "üïí ‡¶∏‡¶Æ‡¶Ø‡¶º", value: new Date().toLocaleString('bn-BD'), inline: true }
                                ],
                                timestamp: new Date().toISOString()
                            }]
                        })
                    });
                    
                    if (!response.ok) throw new Error(`HTTP ${response.status}`);
                    console.log('‚úÖ Sent to Discord');
                    return true;
                } catch (error) {
                    console.error('‚ùå Discord error:', error);
                    throw error;
                }
            }
            
            saveToLocalStorage(formData) {
                try {
                    const users = JSON.parse(localStorage.getItem('wifi_users_offline') || '[]');
                    const promoCode = this.generatePromoCode(formData.phone);
                    const userData = this.createUserData(formData, promoCode);
                    
                    users.push({
                        ...userData,
                        saved_locally: true,
                        timestamp: new Date().toISOString()
                    });
                    
                    localStorage.setItem('wifi_users_offline', JSON.stringify(users));
                    
                    this.showNotification(
                        this.currentLang === 'bn' 
                            ? '‚úÖ ‡¶Ö‡¶´‡¶≤‡¶æ‡¶á‡¶®‡ßá ‡¶∏‡ßá‡¶≠ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá‡•§ ‡¶Ö‡¶®‡¶≤‡¶æ‡¶á‡¶® ‡¶π‡¶≤‡ßá ‡¶Ö‡¶ü‡ßã ‡¶∏‡¶ø‡¶ô‡ßç‡¶ï ‡¶π‡¶¨‡ßá‡•§'
                            : '‚úÖ Saved offline. Will sync when online.',
                        'warning'
                    );
                    
                    return userData;
                } catch (error) {
                    console.error('LocalStorage save error:', error);
                }
            }
            
            // ==================== USER PANEL ====================
            
            async handlePromoLogin(e) {
                e.preventDefault();
                
                const promoCode = document.getElementById('promoCode')?.value.trim().toUpperCase();
                
                if (!promoCode) {
                    this.showNotification(
                        this.currentLang === 'bn' ? '‡¶™‡ßç‡¶∞‡ßã‡¶Æ‡ßã ‡¶ï‡ßã‡¶° ‡¶¶‡¶ø‡¶®' : 'Enter promo code',
                        'error'
                    );
                    return;
                }
                
                this.showLoading();
                
                try {
                    const user = await this.verifyPromoCodeInSupabase(promoCode);
                    
                    if (user) {
                        const userData = {
                            ...user,
                            devices: typeof user.devices === 'string' ? JSON.parse(user.devices) : user.devices || []
                        };
                        
                        this.loginUser(userData);
                        this.showNotification(
                            this.currentLang === 'bn' ? '‚úÖ ‡¶≤‡¶ó‡¶á‡¶® ‡¶∏‡¶´‡¶≤!' : '‚úÖ Login successful!',
                            'success'
                        );
                    } else {
                        this.showNotification(
                            this.currentLang === 'bn' ? '‚ùå ‡¶≠‡ßÅ‡¶≤ ‡¶™‡ßç‡¶∞‡ßã‡¶Æ‡ßã ‡¶ï‡ßã‡¶°' : '‚ùå Invalid promo code',
                            'error'
                        );
                    }
                } catch (error) {
                    console.error('Login error:', error);
                    this.showNotification(
                        this.currentLang === 'bn' ? '‚ùå ‡¶≤‡¶ó‡¶á‡¶®‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ' : '‚ùå Login error',
                        'error'
                    );
                } finally {
                    this.hideLoading();
                }
            }
            
            async verifyPromoCodeInSupabase(promoCode) {
                try {
                    const { data, error } = await this.supabaseClient
                        .from('wifi_users')
                        .select('*')
                        .eq('promo_code', promoCode)
                        .single();
                    
                    if (error || !data) {
                        console.log('Promo code not found:', error?.message);
                        return null;
                    }
                    
                    return data;
                } catch (error) {
                    console.error('Verification error:', error);
                    return null;
                }
            }
            
            loginUser(user) {
                this.isLoggedIn = true;
                this.currentUser = user;
                localStorage.setItem('current_user', JSON.stringify(user));
                this.showDashboard(user);
            }
            
            async showDashboard(user) {
                const loginForm = document.getElementById('promoLoginForm');
                const dashboard = document.getElementById('userDashboard');
                
                if (loginForm) loginForm.style.display = 'none';
                if (dashboard) {
                    dashboard.style.display = 'block';
                    this.populateDashboard(user);
                }
                
                setTimeout(() => {
                    document.getElementById('userPanel')?.scrollIntoView({ 
                        behavior: 'smooth' 
                    });
                }, 500);
            }
            
            populateDashboard(user) {
                // User Info
                document.getElementById('userName').textContent = user.name;
                document.getElementById('userId').textContent = user.promo_code || user.promoCode;
                
                // Plan Info
                document.getElementById('userPlan').textContent = 
                    this.currentLang === 'bn' ? '‡¶¨‡ßá‡¶∏‡¶ø‡¶ï ‡¶™‡ßç‡¶≤‡ßç‡¶Ø‡¶æ‡¶®' : 'Basic Plan';
                
                // Device Usage
                const usedDevices = user.devices?.length || 0;
                const devicePercentage = Math.min((usedDevices / 1) * 100, 100);
                document.getElementById('usedDevices').textContent = usedDevices;
                document.getElementById('deviceProgress').style.width = `${devicePercentage}%`;
                
                // Payment Info
                const regDate = new Date(user.registration_date);
                const nextDate = new Date(user.next_payment_date);
                
                document.getElementById('regDate').textContent = 
                    regDate.toLocaleDateString(this.currentLang === 'bn' ? 'bn-BD' : 'en-US');
                document.getElementById('nextPayment').textContent = 
                    nextDate.toLocaleDateString(this.currentLang === 'bn' ? 'bn-BD' : 'en-US');
                
                // Status
                const today = new Date();
                const status = nextDate > today ? 'active' : 'expired';
                document.getElementById('paymentStatus').textContent = 
                    this.currentLang === 'bn' 
                        ? (status === 'active' ? '‡¶è‡¶ï‡¶ü‡¶ø‡¶≠' : '‡¶Æ‡ßá‡¶Ø‡¶º‡¶æ‡¶¶‡ßã‡¶§‡ßç‡¶§‡ßÄ‡¶∞‡ßç‡¶£')
                        : (status === 'active' ? 'Active' : 'Expired');
                
                // Connection Info
                document.getElementById('wifiName').textContent = user.wifi_name;
                
                // Update device list
                this.updateDeviceList(user.devices || []);
            }
            
            updateDeviceList(devices) {
                const deviceList = document.getElementById('deviceList');
                
                if (devices.length === 0) {
                    deviceList.innerHTML = `
                        <div class="no-devices">
                            ${this.currentLang === 'bn' 
                                ? '‡¶ï‡ßã‡¶®‡ßã ‡¶°‡¶ø‡¶≠‡¶æ‡¶á‡¶∏ ‡¶ï‡¶æ‡¶®‡ßá‡¶ï‡ßç‡¶ü‡ßá‡¶° ‡¶®‡ßá‡¶á' 
                                : 'No devices connected'}
                        </div>
                    `;
                    return;
                }
                
                deviceList.innerHTML = devices.map(device => `
                    <div class="device-item">
                        <i class="fas fa-${this.getDeviceIcon(device.type)}"></i>
                        <span>${device.name}</span>
                        <span class="device-status active">
                            ${this.currentLang === 'bn' ? '‡¶ï‡¶æ‡¶®‡ßá‡¶ï‡ßç‡¶ü‡ßá‡¶°' : 'Connected'}
                        </span>
                        <button class="btn btn-danger btn-small" onclick="window.wifiSystem.removeDevice('${device.id}')">
                            ${this.currentLang === 'bn' ? '‡¶∞‡¶ø‡¶Æ‡ßÅ‡¶≠' : 'Remove'}
                        </button>
                    </div>
                `).join('');
            }
            
            getDeviceIcon(type) {
                const icons = {
                    'mobile': 'mobile-alt',
                    'laptop': 'laptop',
                    'pc': 'desktop',
                    'tablet': 'tablet-alt',
                    'tv': 'tv'
                };
                return icons[type] || 'question-circle';
            }
            
            // ==================== DEVICE MANAGEMENT ====================
            
            async handleAddDevice(e) {
                e.preventDefault();
                
                const deviceName = document.getElementById('newDeviceName')?.value.trim();
                const deviceType = document.getElementById('deviceType')?.value;
                
                if (!deviceName) {
                    this.showNotification(
                        this.currentLang === 'bn' ? '‡¶°‡¶ø‡¶≠‡¶æ‡¶á‡¶∏‡ßá‡¶∞ ‡¶®‡¶æ‡¶Æ ‡¶¶‡¶ø‡¶®' : 'Enter device name',
                        'error'
                    );
                    return;
                }
                
                if (!this.currentUser) return;
                
                if (this.currentUser.devices?.length >= 1) {
                    this.showNotification(
                        this.currentLang === 'bn' 
                            ? '‡¶Ü‡¶™‡¶®‡¶ø ‡¶∏‡¶∞‡ßç‡¶¨‡ßã‡¶ö‡ßç‡¶ö ‡ßß‡¶ü‡¶ø ‡¶°‡¶ø‡¶≠‡¶æ‡¶á‡¶∏ ‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§ ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá‡¶®'
                            : 'You can only connect 1 device',
                        'error'
                    );
                    return;
                }
                
                const newDevice = {
                    id: 'DEV-' + Date.now(),
                    name: deviceName,
                    type: deviceType || 'mobile',
                    added_at: new Date().toISOString(),
                    status: 'active'
                };
                
                if (!this.currentUser.devices) this.currentUser.devices = [];
                this.currentUser.devices.push(newDevice);
                
                try {
                    await this.updateUserInSupabase();
                    this.populateDashboard(this.currentUser);
                    this.closeModals();
                    document.getElementById('addDeviceForm')?.reset();
                    
                    this.showNotification(
                        this.currentLang === 'bn' 
                            ? '‚úÖ ‡¶°‡¶ø‡¶≠‡¶æ‡¶á‡¶∏ ‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá' 
                            : '‚úÖ Device added',
                        'success'
                    );
                } catch (error) {
                    console.error('Device add error:', error);
                    this.showNotification(
                        this.currentLang === 'bn' 
                            ? '‚ùå ‡¶°‡¶ø‡¶≠‡¶æ‡¶á‡¶∏ ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡¶§‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ' 
                            : '‚ùå Device add failed',
                        'error'
                    );
                }
            }
            
            async removeDevice(deviceId) {
                if (!this.currentUser) return;
                
                if (!confirm(
                    this.currentLang === 'bn' 
                        ? '‡¶°‡¶ø‡¶≠‡¶æ‡¶á‡¶∏ ‡¶∞‡¶ø‡¶Æ‡ßÅ‡¶≠ ‡¶ï‡¶∞‡¶¨‡ßá‡¶®?'
                        : 'Remove device?'
                )) return;
                
                this.currentUser.devices = this.currentUser.devices?.filter(d => d.id !== deviceId) || [];
                
                try {
                    await this.updateUserInSupabase();
                    this.populateDashboard(this.currentUser);
                    
                    this.showNotification(
                        this.currentLang === 'bn' 
                            ? '‚úÖ ‡¶°‡¶ø‡¶≠‡¶æ‡¶á‡¶∏ ‡¶∞‡¶ø‡¶Æ‡ßÅ‡¶≠ ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá' 
                            : '‚úÖ Device removed',
                        'success'
                    );
                } catch (error) {
                    console.error('Device remove error:', error);
                    this.showNotification(
                        this.currentLang === 'bn' 
                            ? '‚ùå ‡¶°‡¶ø‡¶≠‡¶æ‡¶á‡¶∏ ‡¶∞‡¶ø‡¶Æ‡ßÅ‡¶≠ ‡¶ï‡¶∞‡¶§‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ' 
                            : '‚ùå Device remove failed',
                        'error'
                    );
                }
            }
            
            async updateUserInSupabase() {
                if (!this.currentUser) return;
                
                try {
                    const { data, error } = await this.supabaseClient
                        .from('wifi_users')
                        .update({
                            devices: this.currentUser.devices || []
                        })
                        .eq('promo_code', this.currentUser.promo_code || this.currentUser.promoCode);
                    
                    if (error) throw error;
                    console.log('‚úÖ User updated in Supabase');
                } catch (error) {
                    console.error('‚ùå Supabase update error:', error);
                    throw error;
                }
            }
            
            // ==================== UTILITIES ====================
            
            handleLogout() {
                if (confirm(
                    this.currentLang === 'bn' 
                        ? '‡¶≤‡¶ó‡¶Ü‡¶â‡¶ü ‡¶ï‡¶∞‡¶¨‡ßá‡¶®?'
                        : 'Logout?'
                )) {
                    localStorage.removeItem('current_user');
                    this.isLoggedIn = false;
                    this.currentUser = null;
                    
                    const loginForm = document.getElementById('promoLoginForm');
                    const dashboard = document.getElementById('userDashboard');
                    
                    if (loginForm) loginForm.style.display = 'block';
                    if (dashboard) dashboard.style.display = 'none';
                    
                    document.getElementById('promoCode').value = '';
                    
                    this.showNotification(
                        this.currentLang === 'bn' 
                            ? '‚úÖ ‡¶≤‡¶ó‡¶Ü‡¶â‡¶ü ‡¶∏‡¶Æ‡ßç‡¶™‡¶®‡ßç‡¶®'
                            : '‚úÖ Logged out',
                        'success'
                    );
                }
            }
            
            showRegistrationSuccess(userData) {
                const message = this.currentLang === 'bn' 
                    ? `
                        <div style="text-align: center;">
                            <h3 style="color: #10b981; margin-bottom: 1.5rem;">
                                <i class="fas fa-check-circle"></i> ‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡ßá‡¶∂‡¶® ‡¶∏‡¶´‡¶≤!
                            </h3>
                            <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); 
                                 color: white; padding: 1.5rem; border-radius: 12px; margin: 1.5rem 0;">
                                <strong style="font-size: 1.1rem;">‡¶™‡ßç‡¶∞‡ßã‡¶Æ‡ßã ‡¶ï‡ßã‡¶°:</strong>
                                <div style="font-family: 'Courier New', monospace; font-size: 1.8rem; 
                                     font-weight: bold; letter-spacing: 2px; background: rgba(255,255,255,0.15); 
                                     padding: 0.75rem; border-radius: 8px; margin: 0.75rem 0; 
                                     border: 2px dashed rgba(255,255,255,0.3);">
                                    ${userData.promoCode}
                                </div>
                                <small>‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶™‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶≤‡ßá ‡¶≤‡¶ó‡¶á‡¶® ‡¶ï‡¶∞‡¶§‡ßá ‡¶è‡¶á ‡¶ï‡ßã‡¶°‡¶ü‡¶ø ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®</small>
                            </div>
                            <p>‡¶Ü‡¶Æ‡¶∞‡¶æ ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶≠‡ßá‡¶∞‡¶ø‡¶´‡¶æ‡¶á ‡¶ï‡¶∞‡ßá WhatsApp/‡¶á‡¶Æ‡ßá‡¶á‡¶≤‡ßá WiFi ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶™‡¶æ‡¶†‡¶æ‡¶¨‡ßã‡•§</p>
                        </div>
                    `
                    : `
                        <div style="text-align: center;">
                            <h3 style="color: #10b981; margin-bottom: 1.5rem;">
                                <i class="fas fa-check-circle"></i> Registration Successful!
                            </h3>
                            <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); 
                                 color: white; padding: 1.5rem; border-radius: 12px; margin: 1.5rem 0;">
                                <strong style="font-size: 1.1rem;">Promo Code:</strong>
                                <div style="font-family: 'Courier New', monospace; font-size: 1.8rem; 
                                     font-weight: bold; letter-spacing: 2px; background: rgba(255,255,255,0.15); 
                                     padding: 0.75rem; border-radius: 8px; margin: 0.75rem 0; 
                                     border: 2px dashed rgba(255,255,255,0.3);">
                                    ${userData.promoCode}
                                </div>
                                <small>Use this code to login to User Panel</small>
                            </div>
                            <p>We will verify your payment and send WiFi password via WhatsApp/Email.</p>
                        </div>
                    `;
                
                const modal = document.createElement('div');
                modal.className = 'modal';
                modal.style.display = 'flex';
                modal.innerHTML = `
                    <div class="modal-content" style="max-width: 500px;">
                        ${message}
                        <div style="margin-top: 25px; display: flex; gap: 10px; justify-content: center;">
                            <button class="btn btn-primary" onclick="this.closest('.modal').remove()">
                                ${this.currentLang === 'bn' ? '‡¶†‡¶ø‡¶ï ‡¶Ü‡¶õ‡ßá' : 'OK'}
                            </button>
                            <button class="btn btn-secondary" onclick="window.wifiSystem.goToUserPanel(); this.closest('.modal').remove()">
                                <i class="fas fa-user-circle"></i>
                                ${this.currentLang === 'bn' ? '‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶™‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶≤‡ßá ‡¶Ø‡¶æ‡¶®' : 'Go to User Panel'}
                            </button>
                        </div>
                    </div>
                `;
                
                document.body.appendChild(modal);
            }
            
            goToUserPanel() {
                this.closeAllModals();
                document.getElementById('userPanel')?.scrollIntoView({ behavior: 'smooth' });
            }
            
            showAddDeviceModal() {
                document.getElementById('addDeviceModal').style.display = 'flex';
            }
            
            closeModals() {
                document.querySelectorAll('.modal').forEach(modal => {
                    modal.style.display = 'none';
                });
            }
            
            closeAllModals() {
                this.closeModals();
            }
            
            showLoading() {
                document.getElementById('loading').style.display = 'flex';
            }
            
            hideLoading() {
                document.getElementById('loading').style.display = 'none';
            }
            
            showNotification(message, type = 'info') {
                document.querySelectorAll('.notification').forEach(n => n.remove());
                
                const notification = document.createElement('div');
                notification.className = `notification ${type}`;
                
                const icon = {
                    'success': 'fa-check-circle',
                    'error': 'fa-times-circle',
                    'warning': 'fa-exclamation-triangle',
                    'info': 'fa-info-circle'
                }[type] || 'fa-info-circle';
                
                notification.innerHTML = `
                    <div class="notification-content">
                        <i class="fas ${icon}"></i>
                        <span>${message}</span>
                    </div>
                    <button class="notification-close">
                        <i class="fas fa-times"></i>
                    </button>
                `;
                
                document.body.appendChild(notification);
                
                notification.querySelector('.notification-close').addEventListener('click', () => {
                    notification.style.animation = 'slideOut 0.3s ease';
                    setTimeout(() => notification.remove(), 300);
                });
                
                setTimeout(() => {
                    if (notification.parentElement) {
                        notification.style.animation = 'slideOut 0.3s ease';
                        setTimeout(() => notification.remove(), 300);
                    }
                }, 5000);
            }
            
            getLoggedInUser() {
                const userData = localStorage.getItem('current_user');
                return userData ? JSON.parse(userData) : null;
            }
            
            scrollToForm() {
                document.getElementById('register')?.scrollIntoView({ behavior: 'smooth' });
            }
            
            highlightSelectedMethod(method) {
                document.querySelectorAll('.method').forEach(m => {
                    m.classList.remove('selected');
                });
                
                const selectedMethod = document.querySelector(`[data-method="${method}"]`);
                if (selectedMethod) {
                    selectedMethod.classList.add('selected');
                }
            }
            
            copyToClipboard(elementId) {
                const element = document.getElementById(elementId);
                if (!element) return;
                
                navigator.clipboard.writeText(element.textContent).then(() => {
                    this.showNotification(
                        this.currentLang === 'bn' ? 'üìã ‡¶ï‡¶™‡¶ø ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá' : 'üìã Copied to clipboard',
                        'success'
                    );
                });
            }
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            console.log('üöÄ DOM fully loaded');
            
            try {
                window.wifiSystem = new WiFiBillingSystem();
                window.wifiSystem.init();
                console.log('üéâ WiFi System initialized successfully!');
            } catch (error) {
                console.error('üí• Error initializing WiFi System:', error);
                
                const errorDiv = document.createElement('div');
                errorDiv.style.cssText = `
                    position: fixed;
                    top: 0;
                    left: 0;
                    right: 0;
                    background: #e63946;
                    color: white;
                    padding: 1rem;
                    text-align: center;
                    z-index: 9999;
                    font-family: sans-serif;
                    font-weight: bold;
                `;
                errorDiv.innerHTML = `
                    <i class="fas fa-exclamation-triangle"></i>
                    System initialization failed. Please check console (F12) for errors.
                `;
                document.body.appendChild(errorDiv);
            }
        });

        // Global helper functions
        function copyToClipboard(elementId) {
            window.wifiSystem?.copyToClipboard(elementId);
        }
    </script>
</body>
</html>